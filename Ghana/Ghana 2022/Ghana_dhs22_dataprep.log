---------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\D
> iss\CODING\Ghana\Ghana 2022/Ghana_dhs22_dataprep.log
  log type:  text
 opened on:   2 Feb 2026, 16:53:13

. 
. 
. ********************************************************************************
. *** Ghana  DHS 2022 ***
. ********************************************************************************
. 
. 
. ********************************************************************************
. *** Step 1: Data preparation 
. *** Selecting variables from BR, IR, & MR recode & merging with PR recode 
. ********************************************************************************
. 
. * In Ghana DHS 2022, height and weight measurements were collected from children (0-5), women (15
> -49) and men (15-59)
. 
. 
. ********************************************************************************
. *** Step 1.1 KR - CHILDREN's RECODE (under 5)
. ********************************************************************************
. 
. ** // CHANGED FROM ORIGINAL 
. use "$path_in/GHPR8CFL.DTA", clear 

. 
. *** Generate individual unique key variable required for data merging
. *** hv001=cluster number; 
. *** hv002=household number; 
. *** hvidx=child's line number in household
. gen double ind_id = hv001*1000000 + hv002*100 + hvidx

. format ind_id %20.0g

. label var  ind_id "Individual ID"

. 
. 
. duplicates report ind_id

Duplicates in terms of ind_id

--------------------------------------
   copies | observations       surplus
----------+---------------------------
        1 |        69684             0
--------------------------------------

. duplicates tag ind_id, gen(duplicates)

Duplicates in terms of ind_id

. tab hc13 if duplicates!=0
no observations

. 
. sum hv105 if hv120==1

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
       hv105 |      5,082    1.981503    1.424631          0          5

. keep if hv120==1
(64,602 observations deleted)

. 
. gen child_KR=1 

.         //Generate identification variable for observations in KR recode
. 
. 
. *** Next, indicate to STATA where the igrowup_restricted.ado file is stored:
.         ***Source of ado file: http://www.who.int/childgrowth/software/en/
. adopath + "C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\D
> iss\CODING\WHO_child"
  [1]  (BASE)      "C:\Program Files (x86)\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files (x86)\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Document
> s\Stata configuration\Stata15\ado\personal/"
  [5]  (PLUS)      "C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Document
> s\Stata configuration\Stata15\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Document
> s\LSE\Diss\CODING\WHO_anthroplus"
  [8]              "C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Document
> s\LSE\Diss\CODING\WHO_child"

. 
. 
. *** We will now proceed to create three nutritional variables: 
.         *** weight-for-age (underweight),  
.         *** weight-for-height (wasting) 
.         *** height-for-age (stunting)
. 
.         
. /* We use 'reflib' to specify the package directory where the .dta files 
> containing the WHO Child Growth Standards are stored. Note that we use 
> strX to specify the length of the path in string. If the path is long, 
> you may specify str55 or more, so it will run. */       
. gen str150 reflib = "C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Docum
> ents\LSE\Diss\CODING\WHO_child"

. lab var reflib "Directory of reference tables"

. 
. 
. /* We use datalib to specify the working directory where the input STATA 
> dataset containing the anthropometric measurement is stored. */
. gen str150 datalib = "$path_out" 

. lab var datalib "Directory for datafiles"

. 
. 
. /* We use datalab to specify the name that will prefix the output files that 
> will be produced from using this ado file (datalab_z_r_rc and datalab_prev_rc)*/
. gen str30 datalab = "children_nutri_Ghana" 

. lab var datalab "Working file"

. 
. 
. *** Next check the variables that WHO ado needs to calculate the z-scores:
. *** sex, age, weight, height
. 
. *** Variable: SEX ***
. tab hv104, miss 

     sex of |
  household |
     member |      Freq.     Percent        Cum.
------------+-----------------------------------
       male |      2,619       51.53       51.53
     female |      2,463       48.47      100.00
------------+-----------------------------------
      Total |      5,082      100.00

.         //"1" for male ;"2" for female
. tab  hv104, nol 

     sex of |
  household |
     member |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      2,619       51.53       51.53
          2 |      2,463       48.47      100.00
------------+-----------------------------------
      Total |      5,082      100.00

. clonevar gender = hv104

. desc gender

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
gender          byte    %8.0g      HV104      sex of household member

. tab gender

     sex of |
  household |
     member |      Freq.     Percent        Cum.
------------+-----------------------------------
       male |      2,619       51.53       51.53
     female |      2,463       48.47      100.00
------------+-----------------------------------
      Total |      5,082      100.00

. 
. *** Variable: AGE ***
. clonevar age=hc1a

. sum age

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
         age |      5,082    894.5252    524.1695          1       1826

. 
. gen str6 ageunit="days"

. lab var ageunit "days"

. 
. *** Variable: BODY WEIGHT (KILOGRAMS) ***
. codebook hc2, tab (10000)

---------------------------------------------------------------------------------------------------
hc2                                                         child's weight in kilograms (1 decimal)
---------------------------------------------------------------------------------------------------

                  type:  numeric (int)
                 label:  HC2, but 197 nonmissing values are not labeled

                 range:  [17,9996]                    units:  1
         unique values:  200                      missing .:  4/5,082

            tabulation:  Freq.   Numeric  Label
                             1        17  
                             1        22  
                             1        24  
                             3        27  
                             5        28  
                             3        29  
                             3        30  
                             4        31  
                             2        32  
                             8        33  
                             5        34  
                             3        35  
                             6        36  
                             6        37  
                             6        38  
                            13        39  
                            15        40  
                             7        41  
                            13        42  
                             7        43  
                             8        44  
                             9        45  
                            21        46  
                             5        47  
                            14        48  
                            15        49  
                            12        50  
                            11        51  
                            12        52  
                             8        53  
                            13        54  
                            12        55  
                             8        56  
                            11        57  
                            13        58  
                            20        59  
                            14        60  
                            23        61  
                            21        62  
                            17        63  
                            21        64  
                            30        65  
                            19        66  
                            20        67  
                            41        68  
                            31        69  
                            39        70  
                            31        71  
                            34        72  
                            25        73  
                            40        74  
                            38        75  
                            33        76  
                            31        77  
                            34        78  
                            42        79  
                            31        80  
                            30        81  
                            61        82  
                            44        83  
                            54        84  
                            49        85  
                            38        86  
                            41        87  
                            43        88  
                            45        89  
                            49        90  
                            44        91  
                            44        92  
                            57        93  
                            51        94  
                            41        95  
                            51        96  
                            57        97  
                            40        98  
                            40        99  
                            50       100  
                            50       101  
                            43       102  
                            67       103  
                            54       104  
                            48       105  
                            47       106  
                            47       107  
                            40       108  
                            46       109  
                            44       110  
                            54       111  
                            43       112  
                            55       113  
                            41       114  
                            58       115  
                            49       116  
                            46       117  
                            47       118  
                            49       119  
                            55       120  
                            60       121  
                            56       122  
                            40       123  
                            45       124  
                            44       125  
                            51       126  
                            53       127  
                            40       128  
                            43       129  
                            55       130  
                            55       131  
                            53       132  
                            48       133  
                            37       134  
                            51       135  
                            51       136  
                            51       137  
                            39       138  
                            51       139  
                            45       140  
                            55       141  
                            45       142  
                            50       143  
                            32       144  
                            32       145  
                            52       146  
                            39       147  
                            42       148  
                            37       149  
                            34       150  
                            43       151  
                            40       152  
                            33       153  
                            35       154  
                            33       155  
                            25       156  
                            24       157  
                            29       158  
                            24       159  
                            16       160  
                            26       161  
                            29       162  
                            30       163  
                            26       164  
                            23       165  
                            14       166  
                            13       167  
                            19       168  
                            14       169  
                            21       170  
                            12       171  
                            11       172  
                            13       173  
                            13       174  
                            18       175  
                             9       176  
                            14       177  
                             7       178  
                             1       179  
                             7       180  
                            11       181  
                             9       182  
                             7       183  
                            14       184  
                             7       185  
                             7       186  
                             2       187  
                             4       188  
                            10       189  
                             4       190  
                             3       191  
                             3       192  
                             3       193  
                             3       194  
                             2       195  
                             4       196  
                             1       197  
                             1       198  
                             1       199  
                             2       200  
                             3       201  
                             2       202  
                             3       204  
                             3       207  
                             2       208  
                             1       209  
                             1       210  
                             1       212  
                             1       213  
                             1       215  
                             1       217  
                             2       221  
                             1       222  
                             1       223  
                             1       225  
                             1       230  
                             1       231  
                             1       240  
                             1       252  
                             1       255  
                            67      9994  not present
                            36      9995  refused
                             9      9996  other
                             4         .  

. gen     weight = hc2/10 
(4 missing values generated)

.         //We divide it by 10 in order to express it in kilograms 
. tab hc2 if hc2>990,m nol   

    child's |
  weight in |
  kilograms |
(1 decimal) |      Freq.     Percent        Cum.
------------+-----------------------------------
       9994 |         67       57.76       57.76
       9995 |         36       31.03       88.79
       9996 |          9        7.76       96.55
          . |          4        3.45      100.00
------------+-----------------------------------
      Total |        116      100.00

.         //Missing values are 994 to 996
. replace weight = . if hc2>=990 
(112 real changes made, 112 to missing)

.         //All missing values or out of range are replaced as "."
. tab     hc13 hc2 if hc2>=990 | hc2==., miss 

  result of |
measurement |
          - |
height/weig |   child's weight in kilograms (1 decimal)
         ht | not prese    refused      other          . |     Total
------------+--------------------------------------------+----------
not present |        67          0          0          0 |        67 
    refused |         0         36          0          0 |        36 
      other |         0          0          9          4 |        13 
------------+--------------------------------------------+----------
      Total |        67         36          9          4 |       116 

.         //hc13: result of the measurement
. desc weight 

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
weight          double  %10.0g                

. summ weight

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
      weight |      4,966    11.32946    3.516052        1.7       25.5

. 
. 
. *** Variable: HEIGHT (CENTIMETERS)
. codebook hc3, tab (10000)

---------------------------------------------------------------------------------------------------
hc3                                                       child's height in centimeters (1 decimal)
---------------------------------------------------------------------------------------------------

                  type:  numeric (int)
                 label:  HC3, but 654 nonmissing values are not labeled

                 range:  [453,9996]                   units:  1
         unique values:  657                      missing .:  4/5,082

            tabulation:  Freq.   Numeric  Label
                             1       453  
                             1       454  
                             1       460  
                             1       464  
                             1       467  
                             1       468  
                             2       470  
                             2       472  
                             1       474  
                             1       475  
                             1       480  
                             1       482  
                             1       483  
                             3       484  
                             1       485  
                             1       487  
                             1       488  
                             2       489  
                             1       490  
                             1       492  
                             2       493  
                             2       494  
                             1       495  
                             2       496  
                             1       497  
                             3       498  
                             2       501  
                             2       502  
                             1       503  
                             1       504  
                             5       505  
                             2       507  
                             1       509  
                             1       510  
                             2       511  
                             2       512  
                             1       514  
                             1       515  
                             3       516  
                             4       517  
                             1       518  
                             1       519  
                             4       520  
                             3       521  
                             3       522  
                             2       523  
                             1       524  
                             2       525  
                             2       526  
                             1       527  
                             2       528  
                             2       529  
                             4       530  
                             3       531  
                             4       532  
                             1       533  
                             5       534  
                             1       535  
                             1       536  
                             4       537  
                             4       538  
                             3       539  
                             2       540  
                             2       541  
                             4       542  
                             6       543  
                             2       544  
                            14       545  
                             1       546  
                             1       547  
                             2       548  
                             2       549  
                             2       550  
                             2       551  
                             2       552  
                             2       553  
                             3       554  
                             3       555  
                             2       556  
                             1       557  
                             4       558  
                             1       559  
                             5       560  
                             2       561  
                             3       563  
                             3       564  
                             5       565  
                             3       567  
                             6       568  
                             2       569  
                             3       570  
                             1       572  
                             3       573  
                             1       574  
                             5       575  
                             3       576  
                             2       577  
                             2       578  
                             2       579  
                             4       580  
                             5       581  
                             3       582  
                             4       583  
                             2       584  
                             8       585  
                             1       586  
                             2       587  
                             2       589  
                             3       591  
                             3       592  
                             2       593  
                             5       594  
                             7       595  
                             2       596  
                             4       597  
                             4       598  
                             1       599  
                             3       600  
                             6       601  
                             7       602  
                             2       603  
                             2       604  
                             3       606  
                             3       607  
                             6       608  
                             1       609  
                             4       610  
                             8       611  
                             3       612  
                             6       613  
                             6       614  
                             3       615  
                             3       616  
                             1       617  
                             4       618  
                             4       619  
                             7       620  
                             2       621  
                             6       622  
                             2       623  
                             6       624  
                             4       625  
                             5       626  
                             3       627  
                             4       628  
                             5       629  
                             6       630  
                             2       631  
                             5       632  
                             6       633  
                             2       634  
                             8       635  
                             4       636  
                             4       637  
                             4       638  
                             1       639  
                             5       640  
                             3       641  
                             3       642  
                             5       643  
                             4       644  
                             9       645  
                             4       646  
                             4       647  
                             7       648  
                             6       649  
                             1       650  
                             8       651  
                             3       652  
                             4       653  
                             3       654  
                            12       655  
                             5       656  
                             6       657  
                             4       658  
                             3       659  
                            11       660  
                             9       661  
                             4       662  
                             7       663  
                             9       664  
                             4       665  
                             7       666  
                             5       667  
                             7       668  
                             4       669  
                             7       670  
                             2       671  
                             6       672  
                             6       673  
                             9       674  
                             7       675  
                             8       676  
                             5       677  
                             6       679  
                            14       680  
                            10       681  
                             9       682  
                             4       683  
                             7       684  
                             7       685  
                             4       686  
                             9       687  
                             2       688  
                             8       689  
                             8       690  
                             5       691  
                             7       692  
                             8       693  
                             8       694  
                             9       695  
                             6       696  
                             3       697  
                             5       698  
                             7       699  
                             4       700  
                             9       701  
                            11       702  
                            10       703  
                             5       704  
                             7       705  
                             9       706  
                             7       707  
                             5       708  
                             4       709  
                            10       710  
                             8       711  
                            10       712  
                             9       713  
                             7       714  
                            11       715  
                             9       716  
                             4       717  
                             8       718  
                             8       719  
                             6       720  
                            13       721  
                             7       722  
                            10       723  
                            11       724  
                             9       725  
                            12       726  
                             2       727  
                             9       728  
                             7       729  
                             8       730  
                            13       731  
                            12       732  
                             6       733  
                             8       734  
                             6       735  
                            10       736  
                             9       737  
                             5       738  
                             7       739  
                             8       740  
                            14       741  
                            11       742  
                             9       743  
                            12       744  
                            12       745  
                            11       746  
                             9       747  
                             9       748  
                            11       749  
                             7       750  
                            13       751  
                            11       752  
                            18       753  
                             9       754  
                            13       755  
                            10       756  
                             7       757  
                             9       758  
                             7       759  
                            10       760  
                             8       761  
                            10       762  
                             7       763  
                            12       764  
                            14       765  
                             6       766  
                            10       767  
                             8       768  
                             8       769  
                            10       770  
                             7       771  
                            10       772  
                            17       773  
                             4       774  
                            18       775  
                             6       776  
                            13       777  
                            10       778  
                            10       779  
                            12       780  
                            24       781  
                            17       782  
                             8       783  
                            11       784  
                            12       785  
                             6       786  
                             8       787  
                             8       788  
                             9       789  
                             7       790  
                            15       791  
                            17       792  
                            18       793  
                            14       794  
                            12       795  
                             9       796  
                             8       797  
                            12       798  
                             8       799  
                            12       800  
                            14       801  
                            10       802  
                             9       803  
                            14       804  
                            12       805  
                            18       806  
                             7       807  
                            10       808  
                             7       809  
                            13       810  
                            16       811  
                            13       812  
                            14       813  
                            11       814  
                            15       815  
                            14       816  
                            10       817  
                             8       818  
                             6       819  
                             7       820  
                             5       821  
                            11       822  
                            14       823  
                            14       824  
                            21       825  
                             9       826  
                            17       827  
                             8       828  
                             8       829  
                             8       830  
                            13       831  
                            12       832  
                            15       833  
                            12       834  
                            11       835  
                             8       836  
                            12       837  
                            11       838  
                             6       839  
                            14       840  
                            12       841  
                            20       842  
                            16       843  
                            10       844  
                            13       845  
                            17       846  
                            11       847  
                            12       848  
                             9       849  
                            11       850  
                            10       851  
                            13       852  
                            17       853  
                            13       854  
                            14       855  
                            17       856  
                             9       857  
                             9       858  
                             7       859  
                             5       860  
                            15       861  
                            18       862  
                            18       863  
                            15       864  
                            14       865  
                            14       866  
                            16       867  
                            12       868  
                             9       869  
                            11       870  
                            12       871  
                            16       872  
                             9       873  
                            14       874  
                             9       875  
                            16       876  
                            12       877  
                            14       878  
                            11       879  
                             9       880  
                            10       881  
                            14       882  
                            16       883  
                            10       884  
                            17       885  
                             8       886  
                            13       887  
                            12       888  
                             7       889  
                             7       890  
                            12       891  
                            18       892  
                             9       893  
                            10       894  
                            13       895  
                            13       896  
                            12       897  
                             9       898  
                             8       899  
                            11       900  
                             7       901  
                            18       902  
                            19       903  
                            17       904  
                            10       905  
                             7       906  
                             8       907  
                            13       908  
                            11       909  
                            15       910  
                            13       911  
                             9       912  
                            13       913  
                            16       914  
                            15       915  
                             9       916  
                             8       917  
                            14       918  
                            10       919  
                             7       920  
                            13       921  
                            14       922  
                            16       923  
                            19       924  
                            15       925  
                            14       926  
                            11       927  
                            11       928  
                            16       929  
                             6       930  
                            14       931  
                            20       932  
                            11       933  
                            14       934  
                            12       935  
                            12       936  
                             5       937  
                            10       938  
                            10       939  
                             8       940  
                             8       941  
                            12       942  
                            15       943  
                            11       944  
                            11       945  
                            15       946  
                            10       947  
                             6       948  
                             9       949  
                            11       950  
                            14       951  
                             7       952  
                            11       953  
                            19       954  
                             8       955  
                            24       956  
                            13       957  
                            11       958  
                            13       959  
                             5       960  
                            14       961  
                            14       962  
                            16       963  
                            17       964  
                            17       965  
                             6       966  
                            12       967  
                            12       968  
                            12       969  
                             7       970  
                            12       971  
                            13       972  
                            15       973  
                            14       974  
                            11       975  
                            11       976  
                            10       977  
                            22       978  
                            15       979  
                            13       980  
                            17       981  
                            13       982  
                            16       983  
                            11       984  
                            19       985  
                             6       986  
                            11       987  
                             7       988  
                            12       989  
                             7       990  
                            13       991  
                            14       992  
                            15       993  
                            13       994  
                            15       995  
                             6       996  
                            16       997  
                            13       998  
                            12       999  
                            10      1000  
                             9      1001  
                             8      1002  
                            15      1003  
                            12      1004  
                            12      1005  
                            10      1006  
                            11      1007  
                             5      1008  
                             5      1009  
                            10      1010  
                            13      1011  
                            16      1012  
                             8      1013  
                             8      1014  
                            13      1015  
                            10      1016  
                            16      1017  
                             7      1018  
                             3      1019  
                             6      1020  
                            12      1021  
                            10      1022  
                            15      1023  
                            11      1024  
                            12      1025  
                             8      1026  
                             5      1027  
                             5      1028  
                             8      1029  
                            11      1030  
                             8      1031  
                             9      1032  
                             6      1033  
                            16      1034  
                            13      1035  
                             9      1036  
                             9      1037  
                             6      1038  
                             1      1039  
                             9      1040  
                             8      1041  
                            11      1042  
                            13      1043  
                            12      1044  
                            10      1045  
                            10      1046  
                             6      1047  
                             7      1048  
                             3      1049  
                             4      1050  
                             2      1051  
                             7      1052  
                             1      1053  
                             2      1054  
                             4      1055  
                             7      1056  
                             2      1057  
                             3      1058  
                             4      1059  
                             3      1060  
                            11      1061  
                             6      1062  
                             2      1063  
                             8      1064  
                             3      1065  
                            10      1066  
                             5      1067  
                             4      1068  
                             1      1069  
                             7      1070  
                            12      1071  
                             4      1072  
                             8      1073  
                             4      1074  
                             6      1075  
                             3      1076  
                             4      1077  
                             2      1078  
                             2      1079  
                             6      1080  
                             4      1081  
                             6      1083  
                             6      1084  
                             2      1085  
                             1      1086  
                             2      1087  
                             3      1090  
                             5      1091  
                             5      1092  
                             4      1093  
                             5      1094  
                             3      1095  
                             3      1096  
                             5      1097  
                             3      1098  
                             3      1099  
                             1      1100  
                             1      1102  
                             7      1103  
                             2      1104  
                             5      1105  
                             1      1108  
                             3      1109  
                             2      1110  
                             2      1111  
                             1      1112  
                             1      1113  
                             2      1114  
                             6      1115  
                             1      1116  
                             2      1119  
                             3      1120  
                             2      1121  
                             1      1122  
                             1      1123  
                             1      1125  
                             1      1126  
                             3      1127  
                             2      1131  
                             1      1132  
                             1      1133  
                             1      1134  
                             1      1135  
                             2      1138  
                             4      1139  
                             1      1140  
                             1      1141  
                             2      1142  
                             1      1143  
                             1      1145  
                             1      1146  
                             1      1148  
                             1      1155  
                             2      1156  
                             1      1157  
                             1      1168  
                             2      1171  
                             1      1175  
                            68      9994  not present
                            39      9995  refused
                             8      9996  other
                             4         .  

. gen     height = hc3/10 
(4 missing values generated)

.         //We divide it by 10 in order to express it in centimeters
. tab hc3 if hc3>9990,m nol   

    child's |
  height in |
centimeters |
(1 decimal) |      Freq.     Percent        Cum.
------------+-----------------------------------
       9994 |         68       57.14       57.14
       9995 |         39       32.77       89.92
       9996 |          8        6.72       96.64
          . |          4        3.36      100.00
------------+-----------------------------------
      Total |        119      100.00

.         //Missing values are 9994 to 9996
. replace height = . if hc3>=9990 
(115 real changes made, 115 to missing)

.         //All missing values or out of range are replaced as "."
. tab     hc13 hc3   if hc3>=9990 | hc3==., miss

  result of |
measurement |
          - |
height/weig |  child's height in centimeters (1 decimal)
         ht | not prese    refused      other          . |     Total
------------+--------------------------------------------+----------
not present |        67          0          0          0 |        67 
    refused |         0         36          0          0 |        36 
      other |         1          3          8          4 |        16 
------------+--------------------------------------------+----------
      Total |        68         39          8          4 |       119 

. desc height 

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
height          double  %10.0g                

. summ height

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
      height |      4,963    84.75537    14.32939       45.3      117.5

. 
. 
. *** Variable: MEASURED STANDING/LYING DOWN ***
. codebook hc15

---------------------------------------------------------------------------------------------------
hc15                                                                      height: lying or standing
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HC15

                 range:  [0,2]                        units:  1
         unique values:  3                        missing .:  0/5,082

            tabulation:  Freq.   Numeric  Label
                           119         0  not measured
                         2,079         1  lying
                         2,884         2  standing

. gen measure = "l" if hc15==1 
(3,003 missing values generated)

.         //Child measured lying down
. replace measure = "h" if hc15==2 
(2,884 real changes made)

.         //Child measured standing up
. replace measure = " " if hc15==9 | hc15==0 | hc15==.
(119 real changes made)

.         //Replace with " " if unknown
. desc measure

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
measure         str1    %9s                   

. tab measure, m

    measure |      Freq.     Percent        Cum.
------------+-----------------------------------
            |        119        2.34        2.34
          h |      2,884       56.75       59.09
          l |      2,079       40.91      100.00
------------+-----------------------------------
      Total |      5,082      100.00

. 
.         
. *** Variable: OEDEMA ***
. lookfor oedema

. gen str1 oedema = "n"  

.         //It assumes no-one has oedema
. desc oedema

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
oedema          str1    %9s                   

. tab oedema      

     oedema |      Freq.     Percent        Cum.
------------+-----------------------------------
          n |      5,082      100.00      100.00
------------+-----------------------------------
      Total |      5,082      100.00

. 
. 
. *** Variable: INDIVIDUAL CHILD SAMPLING WEIGHT ***
. gen  sw = hv005/1000000 

.         //For DHS sample weight has to be divided 1000000
. desc sw

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
sw              double  %10.0g                

. summ sw

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
          sw |      5,082    .8725717    .7418329    .085763   4.930321

. 
. keep ind_id child_KR reflib datalib datalab gender ageunit age weight height measure oedema sw

. 
. /*We now run the command to calculate the z-scores with the adofile */
. igrowup_restricted reflib datalib datalab gender age ageunit weight height measure oedema sw

Please wait, programme is running.............

..............................................
Note: z-scores are flagged according to the following rules:
 
                            _zwfl = . if (_zwfl < -5 or _zwfl >5)
                            _zlen = . if (_zlen < -6 or _zlen >6)
                            _zwei = . if (_zwei < -6 or _zwei >5)
                            _zbmi = . if (_zbmi < -5 or _zbmi >5)
                            
file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Diss\CODI
> NG\Ghana\Ghana 2022\Outputs\children_nutri_Ghana_z_rc.dta saved
Note 1:     Original data plus z-scores are written to
            C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs\children_nutri_Ghana_z_rc.dta
                            
                            
(note: file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs\children_nutri_Ghana_z_rc.xls not found)
Note 2:     Original data plus z-scores are written to
            C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs\children_nutri_Ghana_z_rc.xls
                            

Please wait, programme is calculating prevalences.............

..............................................

Set 1:            Sexes combined

Age groups        Weight-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI     Mean      SD
Total    4307     2.2     1.7     2.6    11.9    10.9    12.9    -.79    1.09
  0-5     416     1.4      .2     2.7     7.2     4.6     9.8    -.27    1.17
 6-11     431     2.2      .7     3.7    13.6    10.2    16.9    -.75    1.21
12-23     924     3.3     2.1     4.5    15.4      13    17.8     -.9    1.14
24-35     819     3.1     1.9     4.4    13.6    11.2      16    -.89    1.08
36-47     876     1.6      .7     2.5    10.2     8.1    12.2    -.85       1
48-60     841     1.1      .3     1.8     9.6     7.5    11.6    -.77     .95

Age groups        Length/height-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI     Mean      SD
Total    4307     3.9     3.3     4.5    17.1      16    18.3    -.94    1.21
  0-5     416     3.9     1.9     5.9    11.4     8.3    14.6    -.51    1.31
 6-11     431     3.9     1.9     5.8    11.3     8.2    14.5    -.65    1.25
12-23     924     4.1     2.8     5.5    17.1    14.6    19.6   -1.03     1.2
24-35     819     5.2     3.7     6.8    24.5    21.5    27.5   -1.21    1.17
36-47     876     3.7     2.4       5    18.8    16.2    21.5   -1.04    1.17
48-60     841     2.5     1.4     3.6      14    11.6    16.4    -.82    1.14

Age groups        Weight-for-length/height

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total    4307     1.1      .8     1.4     5.8     5.1     6.5     9.6     8.7    10.5     1.9
  0-5     416     2.5      .9     4.2     4.4     2.3     6.5    25.7    21.4    30.1     7.8
 6-11     431     2.1      .6     3.6     9.4     6.5    12.2      11     7.9      14     2.1
12-23     924     1.6      .7     2.5     8.7     6.8    10.6     6.8     5.1     8.5     1.6
24-35     819      .7      .1     1.4     6.2     4.5     7.9       9       7      11       1
36-47     876      .2       0      .6     2.1     1.1     3.2     7.6     5.8     9.5     1.2
48-60     841      .6       0     1.1     4.8     3.3     6.3     6.6     4.8     8.3      .6

          95%     CI    %>3SD     95%     CI     Mean      SD
Total     1.5     2.3      .3      .1      .5    -.37    1.09
  0-5     5.1    10.5       1       0     2.1      .2    1.32
 6-11      .7     3.6      .2       0      .7    -.47     1.2
12-23      .8     2.5      .4       0      .9    -.56    1.13
24-35      .2     1.7       0       0      .1    -.36    1.03
36-47      .4       2      .4       0      .9    -.36     .95
48-60       0     1.2       0       0      .1    -.43     .93

Age groups        BMI-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total    4307      .9      .6     1.2       5     4.3     5.6    10.3     9.3    11.2     1.9
  0-5     416     1.3      .1     2.5     4.3     2.3     6.4    20.3    16.3    24.3     5.5
 6-11     431     2.4      .9       4    10.7     7.6    13.7    10.9     7.9      14     2.1
12-23     924     1.7      .8     2.6     6.6       5     8.3     9.3     7.4    11.2     1.9
24-35     819      .5       0       1       5     3.5     6.6      11     8.8    13.2     1.4
36-47     876      .2       0      .6     1.7      .8     2.6     8.8     6.8    10.7     1.4
48-60     841      .3       0      .7     3.8     2.4     5.1     6.8       5     8.5      .9

          95%     CI    %>3SD     95%     CI     Mean      SD
Total     1.4     2.3      .3      .1      .4     -.3    1.07
  0-5     3.2     7.8      .6       0     1.5     .03    1.22
 6-11      .7     3.6      .2       0      .7    -.51    1.22
12-23      .9     2.8      .4       0      .9     -.4    1.13
24-35      .5     2.3       0       0      .1    -.21    1.05
36-47      .5     2.2      .4       0      .9    -.27     .95
48-60      .2     1.5       0       0      .2    -.37     .93

Set 2:            Males

Age groups        Weight-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI     Mean      SD
Total    2202     2.3     1.7       3    13.7    12.2    15.1    -.83    1.09
  0-5     240     1.8       0     3.7     5.6     2.5     8.7    -.19    1.18
 6-11     215     1.1       0     2.7    16.6    11.4    21.8    -.81    1.25
12-23     458     3.8     1.9     5.7    20.2    16.4      24   -1.08     1.1
24-35     417     3.1     1.4     4.9    17.5    13.7    21.2    -.93    1.11
36-47     407     1.8      .4     3.2    10.3     7.2    13.3    -.87     .95
48-60     466     1.4      .2     2.6     9.5     6.8    12.3    -.78     .92

Age groups        Length/height-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI     Mean      SD
Total    2202     4.9       4     5.9    19.2    17.6    20.9      -1    1.24
  0-5     240     5.2     2.2     8.2    11.7     7.4      16    -.47     1.4
 6-11     215     3.8       1     6.6    13.7     8.9    18.6    -.77    1.15
12-23     458     6.5     4.1     8.9    23.4    19.4    27.4    -1.2    1.28
24-35     417       7     4.5     9.6    26.9    22.6    31.3    -1.3     1.2
36-47     407     4.3     2.2     6.4    17.9      14    21.7   -1.09    1.13
48-60     466     2.5       1     4.1    15.8    12.4    19.3    -.86    1.16

Age groups        Weight-for-length/height

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total    2202     1.3      .8     1.8     6.6     5.6     7.7    10.5     9.2    11.8     1.9
  0-5     240     2.2      .1     4.2     3.3      .8     5.8      26    20.3    31.8     8.7
 6-11     215     3.5      .8     6.2    12.5     7.8    17.2    13.6     8.8    18.5     1.7
12-23     458     1.5      .3     2.8    11.5     8.4    14.5     5.2       3     7.3      .8
24-35     417      .7       0     1.7     6.1     3.7     8.5     9.7     6.7    12.7     1.3
36-47     407      .3       0       1     2.8     1.1     4.5    10.3     7.2    13.4     1.3
48-60     466       1       0     2.1     4.7     2.7     6.8     7.4     4.9     9.8      .7

          95%     CI    %>3SD     95%     CI     Mean      SD
Total     1.3     2.5      .2       0      .4    -.39    1.11
  0-5       5    12.5     1.6       0     3.4     .26    1.32
 6-11       0     3.6      .4       0     1.5     -.5    1.31
12-23       0     1.8       0       0      .1    -.68    1.09
24-35      .1     2.5       0       0      .1    -.36    1.06
36-47      .1     2.5       0       0      .1    -.37     .97
48-60       0     1.5       0       0      .1    -.41     .94

Age groups        BMI-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total    2202     1.1      .7     1.6     5.5     4.5     6.4    11.1     9.8    12.4     1.7
  0-5     240       1       0     2.4     2.8      .5     5.1    21.2    15.8    26.6     5.9
 6-11     215     3.9     1.1     6.7    13.4     8.6    18.2    14.2     9.3    19.1     1.7
12-23     458     1.9      .6     3.3     9.2     6.4    11.9     7.5       5      10       1
24-35     417      .5       0     1.4     4.3     2.3     6.4    11.6     8.4    14.8     1.9
36-47     407      .3       0       1     2.1      .6     3.6    10.9     7.7      14       1
48-60     466      .5       0     1.2     3.6     1.8     5.3     7.8     5.3    10.4      .9

          95%     CI    %>3SD     95%     CI     Mean      SD
Total     1.2     2.3      .2       0      .4    -.29    1.09
  0-5     2.7     9.1       1       0     2.5     .11    1.19
 6-11       0     3.6      .4       0     1.5    -.51    1.32
12-23       0       2       0       0      .1    -.49    1.11
24-35      .4     3.3       0       0      .1    -.18    1.05
36-47       0     2.2       0       0      .1    -.25     .96
48-60       0     1.8      .1       0      .4    -.33     .94

Set 3:            Females

Age groups        Weight-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI     Mean      SD
Total    2104     2.1     1.4     2.7      10     8.7    11.3    -.75    1.09
  0-5     176      .9       0     2.6     9.3     4.7    13.8    -.38    1.17
 6-11     217     3.3      .7     5.9    10.6     6.3    14.9    -.68    1.18
12-23     467     2.8     1.2     4.4    10.7     7.8    13.6    -.73    1.16
24-35     402     3.1     1.3     4.9     9.6     6.6    12.6    -.85    1.05
36-47     469     1.5      .3     2.7    10.1     7.3    12.9    -.82    1.04
48-60     375      .6       0     1.5     9.7     6.5    12.8    -.77     .99

Age groups        Length/height-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI     Mean      SD
Total    2104     2.8       2     3.5    14.9    13.4    16.5    -.87    1.18
  0-5     176     2.2       0     4.6    11.1     6.1      16    -.57    1.19
 6-11     217     3.9     1.1     6.7       9       5      13    -.53    1.33
12-23     467     1.8      .5     3.1      11       8    13.9    -.86     1.1
24-35     402     3.4     1.5     5.3    21.9    17.7    26.1   -1.12    1.13
36-47     469     3.2     1.5     4.9    19.7      16    23.4      -1    1.21
48-60     375     2.4      .7       4    11.8     8.4    15.2    -.77    1.12

Age groups        Weight-for-length/height

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total    2104      .9      .5     1.3     4.9       4     5.9     8.6     7.4     9.8     1.8
  0-5     176     3.1      .2     5.9       6     2.2     9.8    25.3    18.6      32     6.6
 6-11     217      .7       0       2     6.2     2.8     9.7     8.3     4.4    12.2     2.6
12-23     467     1.7      .4       3       6     3.8     8.3     8.4     5.7      11     2.4
24-35     402      .7       0     1.7     6.3     3.8     8.8     8.3     5.4    11.1      .6
36-47     469      .2       0      .7     1.6      .4     2.8     5.3     3.2     7.5     1.2
48-60     375       0       0      .1     4.9     2.6     7.2     5.6     3.1       8      .6

          95%     CI    %>3SD     95%     CI     Mean      SD
Total     1.2     2.4      .4      .1      .6    -.36    1.06
  0-5     2.6    10.5      .2       0     1.3     .12    1.32
 6-11      .3       5       0       0      .2    -.45    1.08
12-23      .9     3.9      .8       0     1.7    -.44    1.15
24-35       0     1.5       0       0      .1    -.36    1.01
36-47      .1     2.2      .7       0     1.6    -.35     .93
48-60       0     1.5       0       0      .1    -.45     .92

Age groups        BMI-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total    2104      .7      .3     1.1     4.4     3.5     5.3     9.4     8.1    10.6       2
  0-5     176     1.6       0     3.8     6.5     2.5    10.4      19    12.9    25.1       5
 6-11     217       1       0     2.5     7.9     4.1    11.8     7.7     3.9    11.5     2.6
12-23     467     1.5      .3     2.7     4.2     2.3     6.1    11.1     8.2    14.1     2.7
24-35     402      .4       0     1.2     5.7     3.3     8.1    10.4     7.3    13.6       1
36-47     469      .2       0      .7     1.4      .2     2.6     6.9     4.5     9.4     1.7
48-60     375       0       0      .1     4.1       2     6.2     5.4       3     7.8      .9

          95%     CI    %>3SD     95%     CI     Mean      SD
Total     1.4     2.6      .4      .1      .6    -.31    1.06
  0-5     1.5     8.5      .1       0      .9    -.09    1.24
 6-11      .3       5       0       0      .2    -.51    1.12
12-23     1.1     4.3      .8       0     1.7     -.3    1.15
24-35       0       2       0       0      .1    -.24    1.06
36-47      .4     2.9      .7       0     1.6    -.28     .94
48-60       0     1.9       0       0      .1    -.42     .91
(note: file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs\children_nutri_Ghana_prev_rc.xls not found)
 
Note:       Prevalences are written to
            C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs\children_nutri_Ghana_prev_rc.xls

. 
. 
. /*We now turn to using the dta file that was created and that contains 
> the calculated z-scores to create the child nutrition variables following WHO 
> standards */
. use "$path_out/children_nutri_Ghana_z_rc.dta", clear 

. 
. 
. 
. *** Standard MPI indicator ***
.         //Takes value 1 if the child is under 2 stdev below the median & 0 otherwise
.         
. gen     underweight = (_zwei < -2.0) 

. replace underweight = . if _zwei == . | _fwei==1
(119 real changes made, 119 to missing)

. lab var underweight  "Child is undernourished (weight-for-age) 2sd - WHO"

. tab underweight [aw=sw], miss

   Child is |
undernouris |
        hed |
(weight-for |
-age) 2sd - |
        WHO |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |  4,368.838       85.97       85.97
          1 | 592.672708       11.66       97.63
          . |  120.48929        2.37      100.00
------------+-----------------------------------
      Total |      5,082      100.00

. 
. 
. gen stunting = (_zlen < -2.0)

. replace stunting = . if _zlen == . | _flen==1
(126 real changes made, 126 to missing)

. lab var stunting "Child is stunted (length/height-for-age) 2sd - WHO"

. tab stunting [aw=sw], miss

   Child is |
    stunted |
(length/hei |
ght-for-age |
) 2sd - WHO |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 | 4,096.2781       80.60       80.60
          1 | 858.207359       16.89       97.49
          . | 127.514552        2.51      100.00
------------+-----------------------------------
      Total |      5,082      100.00

. 
. 
. gen wasting = (_zwfl < - 2.0)

. replace wasting = . if _zwfl == . | _fwfl == 1
(130 real changes made, 130 to missing)

. lab var wasting  "Child is wasted (weight-for-length/height) 2sd - WHO"

. tab wasting [aw=sw], miss

   Child is |
     wasted |
(weight-for |
-length/hei |
 ght) 2sd - |
        WHO |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 | 4,656.4828       91.63       91.63
          1 | 288.566436        5.68       97.31
          . | 136.950743        2.69      100.00
------------+-----------------------------------
      Total |      5,082      100.00

. 
. 
.         //Retain relevant variables:
. keep ind_id child_KR underweight stunting wasting 

. 
. order ind_id child_KR underweight stunting wasting 

. 
. sort ind_id

. 
. duplicates report ind_id

Duplicates in terms of ind_id

--------------------------------------
   copies | observations       surplus
----------+---------------------------
        1 |         5082             0
--------------------------------------

. 
. 
.         //Erase files from folder:
. erase "$path_out/children_nutri_Ghana_z_rc.xls"

. erase "$path_out/children_nutri_Ghana_prev_rc.xls"

. *erase "$path_out/children_nutri_Ghana_z_rc.dta"
. 
. 
.         //Save a temp file for merging with PR:
. save "$path_out/Ghana22_KR.dta", replace
(note: file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs/Ghana22_KR.dta not found)
file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Diss\CODI
> NG\Ghana\Ghana 2022\Outputs/Ghana22_KR.dta saved

.         
. 
. ********************************************************************************
. *** Step 1.2  BR - BIRTH RECODE 
. *** (All females 15-49 years who ever gave birth)  
. ********************************************************************************
. 
. use "$path_in/GHBR8CFL.dta", clear

. 
.                 
. *** Generate individual unique key variable required for data merging
. *** v001=cluster number;  
. *** v002=household number; 
. *** v003=respondent's line number
. gen double ind_id = v001*1000000 + v002*100 + v003 

. format ind_id %20.0g

. label var ind_id "Individual ID"

. 
. 
. desc b3 b7      

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
b3              int     %8.0g                 date of birth (cmc)
b7              int     %8.0g                 age at death (months, imputed)

. gen date_death = b3 + b7
(32,401 missing values generated)

.         //Date of death = date of birth (b3) + age at death (b7)
. gen mdead_survey = v008 - date_death
(32,401 missing values generated)

.         //Months dead from survey = Date of interview (v008) - date of death
. gen ydead_survey = mdead_survey/12
(32,401 missing values generated)

.         //Years dead from survey
. 
.         
. codebook b5, tab (10)   

---------------------------------------------------------------------------------------------------
b5                                                                                   child is alive
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  B5

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  0/34,663

            tabulation:  Freq.   Numeric  Label
                         2,262         0  no
                        32,401         1  yes

. gen child_died = 1 if b5==0
(32,401 missing values generated)

.         //Redefine the coding and labels (1=child dead; 0=child alive)
. replace child_died = 0 if b5==1
(32,401 real changes made)

. replace child_died = . if b5==.
(0 real changes made)

. label define lab_died 1 "child has died" 0 "child is alive"

. label values child_died lab_died

. tab b5 child_died, miss

  child is |      child_died
     alive | child is   child has |     Total
-----------+----------------------+----------
        no |         0      2,262 |     2,262 
       yes |    32,401          0 |    32,401 
-----------+----------------------+----------
     Total |    32,401      2,262 |    34,663 

.         
. 
.         /*NOTE: For each woman, sum the number of children who died and compare to 
>         the number of sons/daughters whom they reported have died */
. bysort ind_id: egen tot_child_died = sum(child_died) 

. egen tot_child_died_2 = rsum(v206 v207)

.         //v206: sons who have died
.         //v207: daughters who have died
. compare tot_child_died tot_child_died_2

                                        ---------- difference ----------
                            count       minimum      average     maximum
------------------------------------------------------------------------
tot_chi~d=tot_chi~2         34663
                       ----------
jointly defined             34663             0            0           0
                       ----------
total                       34663

.         //In Ghana DHS 2022, these figures are identical
.         
.                 
. replace child_died=0 if b7>=216 & b7<.
(46 real changes made)

. /* counting only deaths of children <18y (216 months) */
. 
. bysort ind_id: egen tot_child_died_5y=sum(child_died) if ydead_survey<=5
(34193 missing values generated)

.         /*For each woman, sum the number of children who died in the past 5 years 
>         prior to the interview date */
.         
. replace tot_child_died_5y=0 if tot_child_died_5y==. & tot_child_died>=0 & tot_child_died<.
(34,193 real changes made)

.         /*All children who are alive and died longer than 5 years from the interview 
>         date are replaced as '0'*/
.         
. replace tot_child_died_5y=. if child_died==1 & ydead_survey==.
(0 real changes made)

.         //Replace as '.' if there is no information on when the child died  
. 
. tab tot_child_died tot_child_died_5y, miss

tot_child_ |        tot_child_died_5y
      died |         0          1          2 |     Total
-----------+---------------------------------+----------
         0 |    25,527          0          0 |    25,527 
         1 |     6,370        324          0 |     6,694 
         2 |     1,632         44         44 |     1,720 
         3 |       451         12          9 |       472 
         4 |       108          2          0 |       110 
         5 |        82          1          2 |        85 
         7 |        32          1          0 |        33 
         8 |        21          1          0 |        22 
-----------+---------------------------------+----------
     Total |    34,223        385         55 |    34,663 

. 
. bysort ind_id: egen child_died_per_wom = max(tot_child_died)

. lab var child_died_per_wom "Total child death for each women (birth recode)"

. 
. bysort ind_id: egen child_died_per_wom_5y = max(tot_child_died_5y)

. lab var child_died_per_wom_5y "Total child death for each women in the last 5 years (birth recode
> )"

. 
. 
.         //Keep one observation per women
. bysort ind_id: gen id=1 if _n==1
(24,307 missing values generated)

. keep if id==1
(24,307 observations deleted)

. drop id

. 
. duplicates report ind_id 

Duplicates in terms of ind_id

--------------------------------------
   copies | observations       surplus
----------+---------------------------
        1 |        10356             0
--------------------------------------

. 
. gen women_BR = 1 

.         //Identification variable for observations in BR recode
. 
.         
.         //Retain relevant variables
. keep ind_id women_BR b16 child_died_per_wom child_died_per_wom_5y b7

.  
. order ind_id women_BR b16 child_died_per_wom child_died_per_wom_5y b7

. 
. sort ind_id

. 
.         //Save a temp file for merging with PR:
. save "$path_out/Ghana22_BR.dta", replace        
(note: file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs/Ghana22_BR.dta not found)
file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Diss\CODI
> NG\Ghana\Ghana 2022\Outputs/Ghana22_BR.dta saved

.         
.         
. ********************************************************************************
. *** Step 1.3  IR - WOMEN's RECODE  
. *** (All eligible females 15-49 years in the household)
. ********************************************************************************
. 
. use "$path_in/GHIR8CFL.dta", clear

. 
. 
. *** Generate individual unique key variable required for data merging
. *** v001=cluster number;  
. *** v002=household number; 
. *** v003=respondent's line number
. gen double ind_id = v001*1000000 + v002*100 + v003 

. format ind_id %20.0g

. label var ind_id "Individual ID"

. 
. duplicates report ind_id

Duplicates in terms of ind_id

--------------------------------------
   copies | observations       surplus
----------+---------------------------
        1 |        15014             0
--------------------------------------

. 
. gen women_IR=1 

.         //Identification variable for observations in IR recode
. 
. 
. keep ind_id women_IR v003 v005 v012 v201 v206 v207

.  
. order ind_id women_IR v003 v005 v012 v201 v206 v207

. 
.  
. sort ind_id

. 
.         //Save a temp file for merging with PR:
. save "$path_out/Ghana22_IR.dta", replace
(note: file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs/Ghana22_IR.dta not found)
file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Diss\CODI
> NG\Ghana\Ghana 2022\Outputs/Ghana22_IR.dta saved

. 
. 
. ********************************************************************************
. *** Step 1.4  IR - WOMEN'S RECODE  
. *** (Girls 15-19 years in the household)
. ********************************************************************************
. 
. 
. use "$path_in/GHPR8CFL.dta", clear

. 
. *** Generate individual unique key variable required for data merging
. *** hv001=cluster number;  
. *** hv002=household number; 
. *** hvidx=respondent's line number
. gen double ind_id = hv001*1000000 + hv002*100 + hvidx 

. format ind_id %20.0g

. label var ind_id "Individual ID"

. 
. duplicates report ind_id        

Duplicates in terms of ind_id

--------------------------------------
   copies | observations       surplus
----------+---------------------------
        1 |        69684             0
--------------------------------------

. 
. keep if hv104==2 & hv105>=15 & hv105<=19 & hv042==1
(68,192 observations deleted)

. ***Variables required to calculate the z-scores to produce BMI-for-age:
. 
. *** Variable: SEX ***
. gen gender=2 

. 
. *** Variable: AGE IN MONTHS ***
. compare hv807c hv008

                                        ---------- difference ----------
                            count       minimum      average     maximum
------------------------------------------------------------------------
hv807c=hv008                 1436
hv807c>hv008                   56             1            1           1
                       ----------
jointly defined              1492             0     .0375335           1
                       ----------
total                        1492

. 
. tab hv804 if hv807c!=hv008

  number of |
 visits for |
  biomarker |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         29       51.79       51.79
          2 |         15       26.79       78.57
          3 |         12       21.43      100.00
------------+-----------------------------------
      Total |         56      100.00

. /*Assessing number of visits done for biomarker collection for the discrepancy dates
>  *we use date of biomarker collection to construct the age_month variable since birth*/
. 
. gen age_month=hv807c-ha32

. lab var age_month "Age in months, individuals 15-19 years"      

. 
.         
. *** Variable: AGE UNIT ***
. gen str6 ageunit = "months" 

. lab var ageunit "Months"

. 
.                 
. *** Variable: BODY WEIGHT (KILOGRAMS) ***
. codebook ha2, tab (999)

---------------------------------------------------------------------------------------------------
ha2                                                         woman's weight in kilograms (1 decimal)
---------------------------------------------------------------------------------------------------

                  type:  numeric (int)
                 label:  HA2, but 376 nonmissing values are not labeled

                 range:  [326,9996]                   units:  1
         unique values:  379                      missing .:  0/1,492

            tabulation:  Freq.   Numeric  Label
                             1       326  
                             1       329  
                             1       332  
                             1       348  
                             1       354  
                             1       356  
                             1       358  
                             1       359  
                             1       360  
                             1       361  
                             1       362  
                             1       363  
                             1       369  
                             1       374  
                             1       375  
                             1       376  
                             1       377  
                             2       379  
                             2       383  
                             2       385  
                             2       386  
                             1       387  
                             2       388  
                             1       390  
                             2       391  
                             4       392  
                             2       394  
                             1       396  
                             1       397  
                             3       398  
                             1       399  
                             1       400  
                             2       401  
                             3       402  
                             2       404  
                             3       406  
                             1       407  
                             2       408  
                             4       410  
                             1       411  
                             3       413  
                             3       414  
                             2       415  
                             2       416  
                             5       417  
                             2       418  
                             1       419  
                             4       420  
                             3       421  
                             3       422  
                             5       423  
                             3       424  
                             1       425  
                             5       426  
                             4       427  
                             3       428  
                             4       429  
                             7       430  
                             4       431  
                             2       432  
                             2       433  
                             2       434  
                             7       435  
                             3       437  
                             2       438  
                             4       439  
                             5       440  
                             4       441  
                             8       442  
                             4       443  
                             9       444  
                             2       445  
                             6       446  
                             4       447  
                             2       448  
                             3       449  
                             3       450  
                             7       451  
                             3       452  
                             4       453  
                             5       454  
                             3       455  
                             9       456  
                             3       457  
                             4       458  
                             7       459  
                             5       460  
                             8       461  
                             6       462  
                             7       463  
                             6       464  
                             4       465  
                             6       466  
                            10       467  
                             6       468  
                             5       469  
                             9       470  
                             7       471  
                             4       472  
                            13       473  
                             9       474  
                             4       475  
                             9       476  
                             7       477  
                             4       478  
                             8       479  
                             7       480  
                             6       481  
                             6       482  
                            12       483  
                             7       484  
                             6       485  
                             6       486  
                             3       487  
                             5       488  
                             8       489  
                            10       490  
                             6       491  
                             9       492  
                             5       493  
                             5       494  
                             7       495  
                            11       496  
                            12       497  
                            13       498  
                             6       499  
                             4       500  
                            10       501  
                             8       502  
                             8       503  
                             5       504  
                             6       505  
                            12       506  
                             8       507  
                             9       508  
                             8       509  
                             9       510  
                             7       511  
                             5       512  
                             7       513  
                             2       514  
                             8       515  
                             7       516  
                            10       517  
                             4       518  
                            10       519  
                            12       520  
                            12       521  
                            12       522  
                             9       523  
                             9       524  
                             7       525  
                             8       526  
                             9       527  
                             6       528  
                            15       529  
                             6       530  
                             2       531  
                            10       532  
                            10       533  
                             4       534  
                            11       535  
                             9       536  
                            11       537  
                            10       538  
                             7       539  
                             7       540  
                             4       541  
                            13       542  
                             4       543  
                             9       544  
                             6       545  
                             8       546  
                            12       547  
                             7       548  
                             9       549  
                             4       550  
                             5       551  
                             7       552  
                             8       553  
                            10       554  
                             6       555  
                             4       556  
                             7       557  
                             3       558  
                            10       559  
                             3       560  
                             5       561  
                             3       562  
                             8       563  
                             4       564  
                             7       565  
                             7       566  
                             5       567  
                             4       568  
                             3       569  
                             5       570  
                             1       571  
                             3       572  
                             4       573  
                             1       574  
                             5       575  
                             6       576  
                             7       577  
                             2       578  
                             1       579  
                             3       580  
                             7       581  
                             4       582  
                             3       583  
                             7       584  
                             2       585  
                             6       586  
                             2       587  
                             4       588  
                             5       589  
                             6       590  
                            10       591  
                             4       592  
                             2       593  
                             2       594  
                             5       595  
                             2       596  
                             6       597  
                             4       598  
                             7       599  
                             3       600  
                             7       601  
                             4       602  
                             2       603  
                             3       604  
                             1       605  
                             4       606  
                             5       607  
                             2       608  
                             5       609  
                             9       611  
                             2       612  
                             2       613  
                             4       614  
                             4       615  
                             2       616  
                             6       617  
                             5       618  
                             4       620  
                             3       621  
                             3       622  
                             2       623  
                             2       624  
                             4       625  
                             2       626  
                             8       627  
                             2       629  
                             3       630  
                             1       631  
                             2       632  
                             3       634  
                             1       635  
                             2       636  
                             3       637  
                             1       638  
                             1       640  
                             1       641  
                             1       643  
                             1       644  
                             2       645  
                             2       646  
                             4       647  
                             1       648  
                             1       649  
                             1       650  
                             1       651  
                             2       652  
                             1       653  
                             1       654  
                             3       655  
                             2       656  
                             1       658  
                             1       659  
                             2       660  
                             3       661  
                             2       662  
                             1       663  
                             4       664  
                             1       665  
                             3       666  
                             2       668  
                             3       670  
                             2       671  
                             4       674  
                             4       675  
                             3       676  
                             1       677  
                             1       678  
                             1       679  
                             2       680  
                             4       681  
                             2       682  
                             2       684  
                             1       685  
                             4       686  
                             1       688  
                             1       689  
                             1       690  
                             1       692  
                             1       693  
                             1       695  
                             2       696  
                             1       697  
                             3       701  
                             1       703  
                             1       704  
                             1       705  
                             1       706  
                             1       710  
                             1       711  
                             1       712  
                             1       716  
                             2       717  
                             3       719  
                             1       723  
                             1       724  
                             1       725  
                             1       728  
                             1       729  
                             1       730  
                             1       733  
                             3       734  
                             1       741  
                             1       743  
                             1       747  
                             1       750  
                             1       751  
                             2       756  
                             1       760  
                             1       761  
                             1       762  
                             1       764  
                             1       767  
                             2       770  
                             1       771  
                             1       775  
                             1       776  
                             1       781  
                             2       785  
                             1       790  
                             1       793  
                             1       797  
                             1       798  
                             1       802  
                             1       808  
                             1       809  
                             1       810  
                             1       813  
                             1       814  
                             1       818  
                             1       820  
                             1       835  
                             1       845  
                             1       848  
                             1       849  
                             1       852  
                             1       866  
                             1       873  
                             1       904  
                             1       916  
                             1       919  
                             1       921  
                             1       947  
                             1       958  
                             1       977  
                             1       980  
                             1      1104  
                             1      1118  
                             1      1152  
                             1      1447  
                            25      9994  not present
                             7      9995  refused
                             5      9996  other

. gen weight = ha2/10

.         //We divide it by 10 in order to express it in kilograms
. replace weight = . if ha2>=9990 
(37 real changes made, 37 to missing)

.         //All missing values or out of range are replaced as "."
. summ weight

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
      weight |      1,455    53.80928    9.666252       32.6      144.7

. 
. 
. *** Variable: HEIGHT (CENTIMETERS)
. codebook ha3, tab (999)

---------------------------------------------------------------------------------------------------
ha3                                                       woman's height in centimeters (1 decimal)
---------------------------------------------------------------------------------------------------

                  type:  numeric (int)
                 label:  HA3, but 280 nonmissing values are not labeled

                 range:  [1424,9996]                  units:  1
         unique values:  283                      missing .:  0/1,492

            tabulation:  Freq.   Numeric  Label
                             1      1424  
                             1      1427  
                             1      1440  
                             1      1446  
                             1      1447  
                             1      1448  
                             1      1449  
                             1      1452  
                             1      1454  
                             1      1457  
                             1      1459  
                             1      1461  
                             3      1462  
                             2      1463  
                             3      1464  
                             1      1467  
                             1      1469  
                             2      1471  
                             1      1472  
                             2      1473  
                             1      1474  
                             2      1475  
                             1      1476  
                             1      1478  
                             3      1479  
                             1      1480  
                             2      1481  
                             3      1483  
                             2      1484  
                             1      1485  
                             5      1487  
                             1      1488  
                             2      1489  
                             3      1490  
                             3      1491  
                             2      1493  
                             2      1494  
                             3      1495  
                             3      1497  
                             2      1498  
                             1      1499  
                             1      1500  
                             2      1501  
                             1      1502  
                             3      1503  
                             1      1504  
                             4      1505  
                             4      1506  
                             3      1507  
                             2      1508  
                             4      1510  
                             8      1511  
                             5      1512  
                             2      1513  
                             4      1514  
                             6      1515  
                             3      1516  
                             9      1517  
                             3      1518  
                             2      1519  
                             6      1520  
                             7      1521  
                            10      1522  
                             8      1523  
                            10      1524  
                             7      1525  
                            11      1526  
                            10      1527  
                             1      1528  
                             4      1529  
                             5      1530  
                             4      1531  
                             4      1532  
                             4      1533  
                             2      1534  
                             6      1535  
                             5      1536  
                             9      1537  
                             8      1538  
                             6      1539  
                             7      1540  
                            12      1541  
                            12      1542  
                             5      1543  
                             7      1544  
                             8      1545  
                            10      1546  
                             8      1547  
                             4      1548  
                             6      1549  
                             5      1550  
                            11      1551  
                             8      1552  
                             8      1553  
                             8      1554  
                             4      1555  
                             6      1556  
                             9      1557  
                            10      1558  
                            13      1559  
                            12      1560  
                            14      1561  
                            15      1562  
                             8      1563  
                            12      1564  
                            14      1565  
                            11      1566  
                            12      1567  
                            13      1568  
                             4      1569  
                            11      1570  
                             7      1571  
                             9      1572  
                            10      1573  
                             8      1574  
                             9      1575  
                            10      1576  
                            12      1577  
                             9      1578  
                            10      1579  
                             9      1580  
                             6      1581  
                             6      1582  
                             5      1583  
                             8      1584  
                            16      1585  
                            11      1586  
                             7      1587  
                             9      1588  
                             9      1589  
                            12      1590  
                             9      1591  
                             7      1592  
                             7      1593  
                            10      1594  
                             8      1595  
                             8      1596  
                            11      1597  
                             7      1598  
                            12      1599  
                            12      1600  
                             8      1601  
                             8      1602  
                            10      1603  
                            11      1604  
                            10      1605  
                             4      1606  
                            10      1607  
                            18      1608  
                             7      1609  
                             5      1610  
                             8      1611  
                             9      1612  
                            15      1613  
                             6      1614  
                            11      1615  
                             7      1616  
                             8      1617  
                            11      1618  
                             4      1619  
                             6      1620  
                             9      1621  
                             5      1622  
                             3      1623  
                            14      1624  
                             8      1625  
                             5      1626  
                             2      1627  
                            16      1628  
                             5      1629  
                             5      1630  
                             5      1631  
                            13      1632  
                            11      1633  
                             4      1634  
                             8      1635  
                             8      1636  
                             5      1637  
                             8      1638  
                             8      1639  
                             5      1640  
                             5      1641  
                             3      1642  
                            10      1643  
                             6      1644  
                             9      1645  
                             3      1646  
                             3      1647  
                             5      1648  
                             5      1649  
                             5      1650  
                             3      1651  
                             7      1652  
                             4      1653  
                             5      1654  
                             4      1655  
                             3      1656  
                             9      1657  
                             7      1658  
                             2      1659  
                             5      1660  
                             2      1661  
                             8      1662  
                             3      1663  
                             8      1664  
                             3      1665  
                             2      1666  
                             5      1667  
                             5      1668  
                             2      1669  
                             3      1670  
                             5      1671  
                             3      1672  
                             4      1673  
                             4      1674  
                             6      1675  
                             2      1676  
                             3      1677  
                             3      1678  
                             3      1679  
                             3      1680  
                             6      1681  
                             3      1682  
                             4      1683  
                             3      1684  
                             2      1685  
                             3      1686  
                             1      1688  
                             1      1689  
                             5      1690  
                             2      1691  
                             9      1692  
                             5      1693  
                             3      1694  
                             4      1695  
                             3      1696  
                             3      1697  
                             1      1698  
                             3      1699  
                             2      1700  
                             3      1701  
                             1      1703  
                             5      1704  
                             2      1705  
                             1      1706  
                             3      1707  
                             1      1708  
                             1      1709  
                             1      1710  
                             2      1711  
                             3      1713  
                             2      1715  
                             1      1716  
                             6      1717  
                             1      1718  
                             2      1720  
                             2      1725  
                             1      1726  
                             1      1728  
                             1      1729  
                             2      1730  
                             1      1731  
                             1      1733  
                             1      1734  
                             1      1737  
                             2      1738  
                             1      1741  
                             2      1742  
                             1      1743  
                             1      1750  
                             1      1752  
                             1      1753  
                             1      1755  
                             1      1756  
                             2      1757  
                             1      1758  
                             1      1759  
                             1      1771  
                             1      1795  
                             1      1813  
                            24      9994  not present
                             8      9995  refused
                             5      9996  other

. gen     height = ha3/10 

.         //We divide it by 10 in order to express it in centimeters
. replace height = . if ha3>=9990 
(37 real changes made, 37 to missing)

.         //All missing values or out of range are replaced as "."
. summ height

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
      height |      1,455    159.3354    6.010889      142.4      181.3

. 
. 
. *** Variable: OEDEMA
. lookfor oedema

. gen oedema = "n"  

. tab oedema      

     oedema |      Freq.     Percent        Cum.
------------+-----------------------------------
          n |      1,492      100.00      100.00
------------+-----------------------------------
      Total |      1,492      100.00

. 
. 
. 
. *** Variable: SAMPLING WEIGHT ***
. gen  sw = hv005/1000000 

.         //For DHS sample weight has to be divided 1000000*
. summ sw         

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
          sw |      1,492    .9302901    .7625637    .085763   4.222469

.         
. *** Next, indicate to STATA where the igrowup_restricted.ado file is stored:    
. 
. adopath + "C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\D
> iss\CODING\WHO_anthroplus"
  [1]  (BASE)      "C:\Program Files (x86)\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files (x86)\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Document
> s\Stata configuration\Stata15\ado\personal/"
  [5]  (PLUS)      "C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Document
> s\Stata configuration\Stata15\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Document
> s\LSE\Diss\CODING\WHO_child"
  [8]              "C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Document
> s\LSE\Diss\CODING\WHO_anthroplus"

. 
. 
. /* We use 'reflib' to specify the package directory where the .dta files 
> containing the WHO Growth reference are stored. Note that we use strX to specity 
> the length of the path in string. */            
. gen str150 reflib="C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documen
> ts\LSE\Diss\CODING\WHO_anthroplus"

. lab var reflib "Directory of reference tables"

. 
. 
. /* We use datalib to specify the working directory where the input STATA data
> set containing the anthropometric measurement is stored. */
. gen str150 datalib = "$path_out" 

. lab var datalib "Directory for datafiles"

. 
. 
. /* We use datalab to specify the name that will prefix the output files that 
> will be produced from using this ado file*/
. gen str30 datalab = "girl_nutri_Ghana" 

. lab var datalab "Working file"

.         
. 
. 
. /*We now run the command to calculate the z-scores with the adofile */
. who2007 reflib datalib datalab gender age_month ageunit weight height oedema sw

Please wait, programme is running.............

..............................................
Note: z-scores are flagged according to the following rules:
 
                            _zhfa = . if (_zhfa < -6 or _zhfa >6)
                            _zwfa = . if (_zwfa < -6 or _zwfa >5)
                            _zbfa = . if (_zbfa < -5 or _zbfa >5)
                            
(note: file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs\girl_nutri_Ghana_z.dta not found)
file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Diss\CODI
> NG\Ghana\Ghana 2022\Outputs\girl_nutri_Ghana_z.dta saved
Note 1:     Original data plus z-scores are written to
            C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs\girl_nutri_Ghana_z.dta
                            
                            
(note: file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs\girl_nutri_Ghana_z.xls not found)
Note 2:     Original data plus z-scores are written to
            C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs\girl_nutri_Ghana_z.xls
                            

Please wait, programme is calculating prevalences.............

..............................................

Set 1:            Sexes combined

Age groups        Weight-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    5       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    6       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    7       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    8       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    9       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   10       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69

          95%     CI    %>3SD     95%     CI     Mean      SD
Total     -69     -69     -69     -69     -69     -69     -69
    5     -69     -69     -69     -69     -69     -69     -69
    6     -69     -69     -69     -69     -69     -69     -69
    7     -69     -69     -69     -69     -69     -69     -69
    8     -69     -69     -69     -69     -69     -69     -69
    9     -69     -69     -69     -69     -69     -69     -69
   10     -69     -69     -69     -69     -69     -69     -69

Age groups        Height-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total    1127       0       0      .2     4.2       3     5.4     5.2     3.8     6.5      .2
    5       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    6       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    7       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    8       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    9       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   10       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   11       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   12       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   13       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   14       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   15     326       0       0      .2     3.5     1.4     5.7     3.4     1.3     5.5      .5
   16     259       0       0      .2     3.5     1.1       6     7.6     4.2      11       0
   17     295       0       0      .2     5.6     2.8     8.4     4.3     1.8     6.8      .3
   18     234      .1       0      .8     4.3     1.5     7.1     6.4       3     9.7       0
   19      13       0       0     3.7       2       0    13.3       0       0     3.7       0

          95%     CI    %>3SD     95%     CI     Mean      SD
Total       0      .5       0       0       0    -.51      .9
    5     -69     -69     -69     -69     -69     -69     -69
    6     -69     -69     -69     -69     -69     -69     -69
    7     -69     -69     -69     -69     -69     -69     -69
    8     -69     -69     -69     -69     -69     -69     -69
    9     -69     -69     -69     -69     -69     -69     -69
   10     -69     -69     -69     -69     -69     -69     -69
   11     -69     -69     -69     -69     -69     -69     -69
   12     -69     -69     -69     -69     -69     -69     -69
   13     -69     -69     -69     -69     -69     -69     -69
   14     -69     -69     -69     -69     -69     -69     -69
   15       0     1.3       0       0      .2    -.48     .78
   16       0      .2       0       0      .2    -.52     .95
   17       0       1       0       0      .2    -.58     .93
   18       0      .2       0       0      .2    -.46     .98
   19       0     3.7       0       0     3.7    -.42     .67

Age groups        BMI-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total    1127      .5      .1       1     2.9     1.8     3.9    11.5     9.6    13.4     3.5
    5       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    6       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    7       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    8       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    9       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   10       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   11       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   12       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   13       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   14       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   15     326      .2       0      .8     1.7      .1     3.2    12.7     8.9    16.5     3.8
   16     259     1.2       0     2.8     3.8     1.3     6.3     8.4     4.8      12     3.9
   17     295      .6       0     1.6     3.8     1.4     6.1    11.4     7.6    15.2     3.5
   18     234      .3       0     1.3     1.7       0     3.5      13     8.5    17.6     3.1
   19      13       0       0     3.7    15.2       0    38.2    18.7       0    43.3       0

          95%     CI    %>3SD     95%     CI     Mean      SD
Total     2.4     4.7      .3       0      .7    -.08    1.02
    5     -69     -69     -69     -69     -69     -69     -69
    6     -69     -69     -69     -69     -69     -69     -69
    7     -69     -69     -69     -69     -69     -69     -69
    8     -69     -69     -69     -69     -69     -69     -69
    9     -69     -69     -69     -69     -69     -69     -69
   10     -69     -69     -69     -69     -69     -69     -69
   11     -69     -69     -69     -69     -69     -69     -69
   12     -69     -69     -69     -69     -69     -69     -69
   13     -69     -69     -69     -69     -69     -69     -69
   14     -69     -69     -69     -69     -69     -69     -69
   15     1.6       6       0       0      .2    -.07    1.03
   16     1.3     6.4      .7       0     1.9    -.16    1.03
   17     1.2     5.8       0       0      .2    -.06    1.01
   18      .6     5.5      .8       0     2.2    -.03       1
   19       0     3.7       0       0     3.7    -.23    1.17

Set 2:            Males

Age groups        Weight-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    5       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    6       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    7       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    8       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    9       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   10       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69

          95%     CI    %>3SD     95%     CI     Mean      SD
Total     -69     -69     -69     -69     -69     -69     -69
    5     -69     -69     -69     -69     -69     -69     -69
    6     -69     -69     -69     -69     -69     -69     -69
    7     -69     -69     -69     -69     -69     -69     -69
    8     -69     -69     -69     -69     -69     -69     -69
    9     -69     -69     -69     -69     -69     -69     -69
   10     -69     -69     -69     -69     -69     -69     -69

Age groups        Height-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    5       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    6       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    7       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    8       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    9       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   10       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   11       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   12       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   13       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   14       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   15       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   16       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   17       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   18       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   19       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69

          95%     CI    %>3SD     95%     CI     Mean      SD
Total     -69     -69     -69     -69     -69     -69     -69
    5     -69     -69     -69     -69     -69     -69     -69
    6     -69     -69     -69     -69     -69     -69     -69
    7     -69     -69     -69     -69     -69     -69     -69
    8     -69     -69     -69     -69     -69     -69     -69
    9     -69     -69     -69     -69     -69     -69     -69
   10     -69     -69     -69     -69     -69     -69     -69
   11     -69     -69     -69     -69     -69     -69     -69
   12     -69     -69     -69     -69     -69     -69     -69
   13     -69     -69     -69     -69     -69     -69     -69
   14     -69     -69     -69     -69     -69     -69     -69
   15     -69     -69     -69     -69     -69     -69     -69
   16     -69     -69     -69     -69     -69     -69     -69
   17     -69     -69     -69     -69     -69     -69     -69
   18     -69     -69     -69     -69     -69     -69     -69
   19     -69     -69     -69     -69     -69     -69     -69

Age groups        BMI-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    5       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    6       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    7       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    8       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    9       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   10       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   11       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   12       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   13       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   14       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   15       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   16       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   17       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   18       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   19       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69

          95%     CI    %>3SD     95%     CI     Mean      SD
Total     -69     -69     -69     -69     -69     -69     -69
    5     -69     -69     -69     -69     -69     -69     -69
    6     -69     -69     -69     -69     -69     -69     -69
    7     -69     -69     -69     -69     -69     -69     -69
    8     -69     -69     -69     -69     -69     -69     -69
    9     -69     -69     -69     -69     -69     -69     -69
   10     -69     -69     -69     -69     -69     -69     -69
   11     -69     -69     -69     -69     -69     -69     -69
   12     -69     -69     -69     -69     -69     -69     -69
   13     -69     -69     -69     -69     -69     -69     -69
   14     -69     -69     -69     -69     -69     -69     -69
   15     -69     -69     -69     -69     -69     -69     -69
   16     -69     -69     -69     -69     -69     -69     -69
   17     -69     -69     -69     -69     -69     -69     -69
   18     -69     -69     -69     -69     -69     -69     -69
   19     -69     -69     -69     -69     -69     -69     -69

Set 3:            Females

Age groups        Weight-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    5       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    6       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    7       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    8       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    9       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   10       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69

          95%     CI    %>3SD     95%     CI     Mean      SD
Total     -69     -69     -69     -69     -69     -69     -69
    5     -69     -69     -69     -69     -69     -69     -69
    6     -69     -69     -69     -69     -69     -69     -69
    7     -69     -69     -69     -69     -69     -69     -69
    8     -69     -69     -69     -69     -69     -69     -69
    9     -69     -69     -69     -69     -69     -69     -69
   10     -69     -69     -69     -69     -69     -69     -69

Age groups        Height-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total    1127       0       0      .2     4.2       3     5.4     5.2     3.8     6.5      .2
    5       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    6       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    7       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    8       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    9       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   10       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   11       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   12       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   13       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   14       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   15     326       0       0      .2     3.5     1.4     5.7     3.4     1.3     5.5      .5
   16     259       0       0      .2     3.5     1.1       6     7.6     4.2      11       0
   17     295       0       0      .2     5.6     2.8     8.4     4.3     1.8     6.8      .3
   18     234      .1       0      .8     4.3     1.5     7.1     6.4       3     9.7       0
   19      13       0       0     3.7       2       0    13.3       0       0     3.7       0

          95%     CI    %>3SD     95%     CI     Mean      SD
Total       0      .5       0       0       0    -.51      .9
    5     -69     -69     -69     -69     -69     -69     -69
    6     -69     -69     -69     -69     -69     -69     -69
    7     -69     -69     -69     -69     -69     -69     -69
    8     -69     -69     -69     -69     -69     -69     -69
    9     -69     -69     -69     -69     -69     -69     -69
   10     -69     -69     -69     -69     -69     -69     -69
   11     -69     -69     -69     -69     -69     -69     -69
   12     -69     -69     -69     -69     -69     -69     -69
   13     -69     -69     -69     -69     -69     -69     -69
   14     -69     -69     -69     -69     -69     -69     -69
   15       0     1.3       0       0      .2    -.48     .78
   16       0      .2       0       0      .2    -.52     .95
   17       0       1       0       0      .2    -.58     .93
   18       0      .2       0       0      .2    -.46     .98
   19       0     3.7       0       0     3.7    -.42     .67

Age groups        BMI-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total    1127      .5      .1       1     2.9     1.8     3.9    11.5     9.6    13.4     3.5
    5       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    6       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    7       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    8       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    9       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   10       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   11       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   12       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   13       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   14       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   15     326      .2       0      .8     1.7      .1     3.2    12.7     8.9    16.5     3.8
   16     259     1.2       0     2.8     3.8     1.3     6.3     8.4     4.8      12     3.9
   17     295      .6       0     1.6     3.8     1.4     6.1    11.4     7.6    15.2     3.5
   18     234      .3       0     1.3     1.7       0     3.5      13     8.5    17.6     3.1
   19      13       0       0     3.7    15.2       0    38.2    18.7       0    43.3       0

          95%     CI    %>3SD     95%     CI     Mean      SD
Total     2.4     4.7      .3       0      .7    -.08    1.02
    5     -69     -69     -69     -69     -69     -69     -69
    6     -69     -69     -69     -69     -69     -69     -69
    7     -69     -69     -69     -69     -69     -69     -69
    8     -69     -69     -69     -69     -69     -69     -69
    9     -69     -69     -69     -69     -69     -69     -69
   10     -69     -69     -69     -69     -69     -69     -69
   11     -69     -69     -69     -69     -69     -69     -69
   12     -69     -69     -69     -69     -69     -69     -69
   13     -69     -69     -69     -69     -69     -69     -69
   14     -69     -69     -69     -69     -69     -69     -69
   15     1.6       6       0       0      .2    -.07    1.03
   16     1.3     6.4      .7       0     1.9    -.16    1.03
   17     1.2     5.8       0       0      .2    -.06    1.01
   18      .6     5.5      .8       0     2.2    -.03       1
   19       0     3.7       0       0     3.7    -.23    1.17
(note: file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs\girl_nutri_Ghana_prev.xls not found)
 
Note:       Prevalences are written to
            C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs\girl_nutri_Ghana_prev.xls

. 
. 
. /*We now turn to using the dta file that was created and that contains 
> the calculated z-scores to compute BMI-for-age*/
. use "$path_out/girl_nutri_Ghana_z.dta", clear 

. 
.                 
. gen     z_bmi = _zbfa
(274 missing values generated)

. replace z_bmi = . if _fbfa==1 
(0 real changes made)

. lab var z_bmi "z-score bmi-for-age WHO"

. 
. 
. gen     low_bmiage = (z_bmi < -2.0) 

.         /*Takes value 1 if BMI-for-age is under 2 stdev below the median & 0 
>         otherwise */
. replace low_bmiage = . if z_bmi==.
(274 real changes made, 274 to missing)

. lab var low_bmiage "Teenage low bmi 2sd - WHO"

. 
. 
. gen teen_IR=1 

.         //Identification variable for observations in IR recode (only 15-19 years)      
. 
. 
.         //Retain relevant variables:    
. keep ind_id teen_IR age_month low_bmiage

.  
. order ind_id teen_IR age_month low_bmiage

.  
. sort ind_id

. 
. 
.         //Erase files from folder:
. erase "$path_out/girl_nutri_Ghana_z.xls"

. erase "$path_out/girl_nutri_Ghana_prev.xls"

. erase "$path_out/girl_nutri_Ghana_z.dta"

. 
. 
.         //Save a temp file for merging with PR:
. save "$path_out/Ghana22_IR_girls.dta", replace
(note: file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs/Ghana22_IR_girls.dta not found)
file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Diss\CODI
> NG\Ghana\Ghana 2022\Outputs/Ghana22_IR_girls.dta saved

. 
. 
. ********************************************************************************
. *** Step 1.5  MR - MEN'S RECODE  
. ***(All eligible man: 15-59 years in the household) 
. ********************************************************************************
. 
. use "$path_in/GHMR8CFL.dta", clear 

. 
. 
. *** Generate individual unique key variable required for data merging
.         *** mv001=cluster number; 
.         *** mv002=household number;
.         *** mv003=respondent's line number
. gen double ind_id = mv001*1000000 + mv002*100 + mv003   

. format ind_id %20.0g

. label var ind_id "Individual ID"

. 
. duplicates report ind_id

Duplicates in terms of ind_id

--------------------------------------
   copies | observations       surplus
----------+---------------------------
        1 |         7044             0
--------------------------------------

. 
. gen men_MR=1    

.         //Identification variable for observations in MR recode
. 
. 
. keep ind_id men_MR mv003 mv005 mv012 mv201 mv206 mv207

. 
. order ind_id men_MR mv003 mv005 mv012 mv201 mv206 mv207 

. 
. sort ind_id

. 
.         //Save a temp file for merging with PR:
. save "$path_out/Ghana22_MR.dta", replace
(note: file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs/Ghana22_MR.dta not found)
file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Diss\CODI
> NG\Ghana\Ghana 2022\Outputs/Ghana22_MR.dta saved

. 
. 
. ********************************************************************************
. *** Step 1.6a  MR - MEN'S RECODE  
. ***(Boys 15-19 years in the household) 
. ********************************************************************************
. 
. use "$path_in/GHPR8CFL.dta", clear 

.         
. *** Generate individual unique key variable required for data merging
. *** hv001=cluster number;  
. *** hv002=household number; 
. *** hvidx=respondent's line number
. gen double ind_id = hv001*1000000 + hv002*100 + hvidx 

. format ind_id %20.0g

. label var ind_id "Individual ID"

. 
. duplicates report ind_id

Duplicates in terms of ind_id

--------------------------------------
   copies | observations       surplus
----------+---------------------------
        1 |        69684             0
--------------------------------------

. 
. keep if hv104==1 & hv105>=15 & hv105<=19 & hv027==1
(68,200 observations deleted)

. ***Variables required to calculate the z-scores to produce BMI-for-age:
. 
. *** Variable: SEX ***
. gen gender=1

. 
. gen age_month_b=hv807c-hb32

. lab var age_month "Age in months, individuals 15-19 years"      

. 
.         
. *** Variable: AGE UNIT ***
. gen str6 ageunit = "months" 

. lab var ageunit "Months"

. 
.                 
. *** Variable: BODY WEIGHT (KILOGRAMS) ***
. codebook hb2, tab (999)

---------------------------------------------------------------------------------------------------
hb2                                                           man's weight in kilograms (1 decimal)
---------------------------------------------------------------------------------------------------

                  type:  numeric (int)
                 label:  HB2, but 391 nonmissing values are not labeled

                 range:  [286,9996]                   units:  1
         unique values:  394                      missing .:  0/1,484

            tabulation:  Freq.   Numeric  Label
                             1       286  
                             1       311  
                             2       312  
                             1       317  
                             2       322  
                             1       323  
                             1       326  
                             2       328  
                             1       329  
                             1       332  
                             1       334  
                             1       335  
                             1       340  
                             2       342  
                             1       343  
                             1       344  
                             2       345  
                             1       347  
                             1       351  
                             2       353  
                             2       354  
                             1       357  
                             2       358  
                             1       359  
                             1       361  
                             2       362  
                             1       364  
                             1       366  
                             1       367  
                             2       370  
                             1       371  
                             1       372  
                             1       373  
                             2       375  
                             1       376  
                             1       377  
                             1       380  
                             3       381  
                             1       382  
                             2       383  
                             1       384  
                             3       385  
                             1       387  
                             2       388  
                             2       389  
                             2       390  
                             5       391  
                             2       392  
                             1       395  
                             1       396  
                             2       397  
                             2       398  
                             5       399  
                             3       400  
                             1       401  
                             5       403  
                             3       404  
                             1       405  
                             1       406  
                             1       407  
                             1       409  
                             1       410  
                             2       411  
                             1       412  
                             2       413  
                             7       414  
                             3       415  
                             6       416  
                             2       417  
                             4       418  
                             1       419  
                             4       420  
                             6       421  
                             3       422  
                             3       423  
                             2       424  
                             5       425  
                             2       426  
                             2       427  
                             4       428  
                             3       429  
                             1       430  
                             2       432  
                             1       433  
                             4       434  
                             1       435  
                             6       436  
                             1       437  
                             5       438  
                             3       439  
                             1       440  
                             2       441  
                             5       442  
                             3       443  
                             5       444  
                             1       445  
                             4       446  
                             3       447  
                             2       448  
                             2       449  
                             5       450  
                             7       451  
                             4       452  
                             6       453  
                             2       454  
                             2       455  
                             7       456  
                             3       457  
                             4       458  
                             3       459  
                             3       460  
                             5       461  
                             5       462  
                             2       463  
                             2       464  
                             9       465  
                             8       466  
                             5       467  
                             6       468  
                             6       469  
                             7       470  
                             3       471  
                             4       472  
                             4       473  
                             7       474  
                             9       475  
                             4       476  
                             6       477  
                             4       478  
                             6       479  
                             6       480  
                             7       481  
                             1       482  
                             6       483  
                             4       484  
                             3       485  
                             4       486  
                            13       487  
                             7       488  
                             5       489  
                             4       490  
                             6       491  
                             6       492  
                             9       493  
                             4       494  
                             6       495  
                             3       496  
                             2       497  
                             7       498  
                             8       499  
                             8       500  
                             4       501  
                             3       502  
                             6       503  
                             7       504  
                             6       506  
                             6       507  
                             8       508  
                             3       509  
                             4       510  
                             3       511  
                             3       512  
                             6       513  
                             9       514  
                             7       515  
                             5       516  
                             8       517  
                             6       518  
                             3       519  
                             8       520  
                             6       521  
                             7       522  
                            10       523  
                             6       524  
                             6       525  
                             4       526  
                            10       527  
                             4       528  
                             5       529  
                             9       530  
                             3       531  
                             7       532  
                             3       533  
                             7       534  
                             7       535  
                             9       536  
                             6       537  
                             6       538  
                             3       539  
                             6       540  
                             6       541  
                             7       542  
                             9       543  
                             3       544  
                             4       545  
                             8       546  
                             2       547  
                             5       548  
                            12       549  
                             6       550  
                             2       551  
                             6       552  
                             3       553  
                             5       554  
                             4       555  
                             4       556  
                             7       557  
                             6       558  
                             6       559  
                             7       560  
                             5       561  
                             7       562  
                             6       563  
                             3       564  
                             6       565  
                             6       566  
                             4       567  
                             6       568  
                            10       569  
                            10       570  
                             7       571  
                            13       572  
                             5       573  
                             5       574  
                             6       575  
                            11       576  
                             6       577  
                             8       578  
                             7       579  
                             9       580  
                             9       581  
                             6       582  
                            10       583  
                             5       584  
                             9       585  
                             7       586  
                             4       587  
                             5       588  
                             7       589  
                             3       590  
                             8       591  
                             3       592  
                             2       593  
                             5       594  
                             7       595  
                             5       596  
                             5       597  
                             5       598  
                             6       599  
                             7       600  
                             3       601  
                             3       602  
                             3       603  
                             9       604  
                             2       605  
                             5       606  
                             7       607  
                             3       608  
                             6       609  
                             6       610  
                             8       611  
                             4       612  
                             6       613  
                             5       614  
                             4       615  
                             4       616  
                             4       617  
                             7       618  
                             3       619  
                             2       620  
                             7       621  
                             6       622  
                             2       623  
                             5       624  
                             4       625  
                             4       626  
                             3       627  
                             3       628  
                             2       629  
                             3       630  
                             4       631  
                             4       632  
                             3       633  
                             6       634  
                             3       635  
                             1       636  
                             5       637  
                             2       638  
                             1       639  
                             4       640  
                             5       641  
                             4       642  
                             5       643  
                             4       644  
                             1       645  
                             7       646  
                             2       647  
                             4       648  
                             3       649  
                             4       650  
                             2       651  
                             6       652  
                             5       653  
                             2       654  
                             3       655  
                             3       656  
                             2       657  
                             1       658  
                             3       659  
                             3       660  
                             3       661  
                             1       662  
                             2       663  
                             1       664  
                             2       665  
                             4       666  
                             1       667  
                             2       668  
                             2       669  
                             4       670  
                             5       671  
                             5       672  
                             3       673  
                             4       674  
                             1       675  
                             1       676  
                             2       678  
                             1       680  
                             3       681  
                             4       682  
                             1       683  
                             1       684  
                             1       685  
                             1       686  
                             2       687  
                             4       688  
                             1       689  
                             1       690  
                             1       691  
                             2       692  
                             1       693  
                             2       694  
                             2       696  
                             1       698  
                             2       699  
                             1       700  
                             3       701  
                             1       702  
                             2       704  
                             2       705  
                             1       706  
                             2       707  
                             1       708  
                             1       709  
                             2       710  
                             1       711  
                             4       712  
                             2       716  
                             1       717  
                             1       718  
                             1       719  
                             1       720  
                             1       721  
                             1       724  
                             1       725  
                             1       726  
                             1       728  
                             2       729  
                             1       731  
                             1       733  
                             2       734  
                             1       737  
                             2       738  
                             1       739  
                             3       740  
                             1       744  
                             1       745  
                             2       750  
                             1       754  
                             1       759  
                             1       760  
                             1       761  
                             1       774  
                             1       796  
                             1       815  
                             1       856  
                             1       864  
                             1       865  
                             1       920  
                             1       945  
                             1      1035  
                            24      9994  not present
                             4      9995  refused
                             5      9996  other

. gen weight = hb2/10

.         //We divide it by 10 in order to express it in kilograms
. replace weight = . if hb2>=9990 
(33 real changes made, 33 to missing)

.         //All missing values or out of range are replaced as "."
. summ weight

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
      weight |      1,451    54.29828     9.14792       28.6      103.5

. 
. 
. *** Variable: HEIGHT (CENTIMETERS)
. codebook hb3, tab (999)

---------------------------------------------------------------------------------------------------
hb3                                                         man's height in centimeters (1 decimal)
---------------------------------------------------------------------------------------------------

                  type:  numeric (int)
                 label:  HB3, but 360 nonmissing values are not labeled

                 range:  [1230,9996]                  units:  1
         unique values:  363                      missing .:  0/1,484

            tabulation:  Freq.   Numeric  Label
                             1      1230  
                             1      1336  
                             1      1367  
                             1      1394  
                             1      1400  
                             1      1405  
                             1      1411  
                             1      1412  
                             1      1415  
                             1      1417  
                             1      1418  
                             1      1424  
                             1      1430  
                             1      1435  
                             1      1443  
                             1      1444  
                             1      1446  
                             1      1449  
                             1      1454  
                             1      1455  
                             1      1456  
                             1      1458  
                             1      1462  
                             1      1463  
                             1      1464  
                             2      1465  
                             1      1466  
                             2      1467  
                             1      1469  
                             1      1476  
                             1      1481  
                             1      1485  
                             1      1488  
                             1      1490  
                             1      1493  
                             4      1496  
                             2      1497  
                             2      1499  
                             3      1500  
                             3      1501  
                             3      1502  
                             1      1503  
                             1      1504  
                             2      1505  
                             1      1506  
                             2      1507  
                             1      1508  
                             1      1510  
                             1      1512  
                             4      1513  
                             1      1514  
                             2      1516  
                             4      1517  
                             1      1519  
                             2      1520  
                             1      1521  
                             4      1522  
                             1      1523  
                             1      1524  
                             1      1525  
                             1      1526  
                             1      1527  
                             1      1528  
                             1      1530  
                             1      1531  
                             3      1534  
                             3      1536  
                             2      1537  
                             2      1539  
                             1      1540  
                             2      1541  
                             2      1542  
                             2      1543  
                             3      1544  
                             2      1546  
                             3      1547  
                             2      1548  
                             2      1549  
                             1      1551  
                             2      1552  
                             2      1554  
                             2      1556  
                             1      1557  
                             2      1558  
                             1      1559  
                             4      1560  
                             3      1561  
                             5      1562  
                             3      1563  
                             4      1565  
                             3      1566  
                             2      1567  
                             2      1568  
                             3      1569  
                             1      1570  
                             2      1571  
                             2      1572  
                             4      1574  
                             2      1575  
                             2      1576  
                             4      1577  
                             4      1578  
                             2      1579  
                             2      1580  
                             4      1581  
                             5      1582  
                             6      1583  
                             8      1584  
                             5      1585  
                             3      1586  
                             2      1587  
                             4      1588  
                             2      1589  
                             2      1590  
                             5      1591  
                             6      1592  
                             6      1593  
                             3      1594  
                             3      1595  
                             5      1596  
                             3      1597  
                             4      1598  
                             6      1599  
                             6      1600  
                            10      1601  
                             7      1602  
                             2      1603  
                             5      1604  
                             9      1605  
                             2      1606  
                             4      1607  
                             4      1608  
                             2      1609  
                             3      1610  
                             5      1611  
                             4      1612  
                             8      1613  
                            10      1614  
                             9      1615  
                             6      1616  
                             3      1617  
                             2      1618  
                             5      1619  
                             5      1620  
                             5      1621  
                             9      1622  
                            12      1623  
                             5      1624  
                            11      1625  
                             7      1626  
                             7      1627  
                             4      1628  
                             3      1629  
                             5      1630  
                             4      1631  
                             7      1632  
                             5      1633  
                            10      1634  
                             5      1635  
                             5      1636  
                             8      1637  
                             9      1638  
                             3      1639  
                             5      1640  
                            11      1641  
                             9      1642  
                             7      1643  
                             7      1644  
                             6      1645  
                             4      1646  
                             8      1647  
                             2      1648  
                             6      1649  
                             2      1650  
                             6      1651  
                            12      1652  
                             6      1653  
                             5      1654  
                             6      1655  
                             4      1656  
                             6      1657  
                             6      1658  
                             9      1659  
                             9      1660  
                             9      1661  
                            11      1662  
                             6      1663  
                             7      1664  
                             5      1665  
                             4      1666  
                             6      1667  
                             5      1668  
                             6      1669  
                             5      1670  
                             7      1671  
                            12      1672  
                             8      1673  
                            10      1674  
                             9      1675  
                             5      1676  
                             7      1677  
                             8      1678  
                             8      1679  
                             8      1680  
                             9      1681  
                             6      1682  
                             9      1683  
                            13      1684  
                            11      1685  
                             7      1686  
                            11      1687  
                             6      1688  
                            10      1689  
                             3      1690  
                             9      1691  
                             6      1692  
                             8      1693  
                            12      1694  
                             7      1695  
                             7      1696  
                             7      1697  
                            10      1698  
                             6      1699  
                            12      1700  
                             5      1701  
                            14      1702  
                             7      1703  
                             7      1704  
                            14      1705  
                             2      1706  
                             6      1707  
                             5      1708  
                             5      1709  
                            14      1710  
                             2      1711  
                            10      1712  
                             6      1713  
                             6      1714  
                             7      1715  
                             5      1716  
                             3      1717  
                            10      1718  
                             6      1719  
                             2      1720  
                             5      1721  
                             4      1722  
                             7      1723  
                            10      1724  
                             6      1725  
                             7      1726  
                             5      1727  
                             7      1728  
                            11      1729  
                             3      1730  
                             5      1731  
                             9      1732  
                            10      1733  
                             8      1734  
                             4      1735  
                             2      1736  
                             3      1737  
                             8      1738  
                             3      1739  
                             4      1740  
                             4      1741  
                             5      1742  
                             7      1743  
                             3      1744  
                             9      1745  
                             3      1746  
                             2      1747  
                             2      1748  
                             5      1749  
                             2      1750  
                             4      1751  
                             4      1752  
                             1      1753  
                             3      1754  
                             4      1755  
                             5      1757  
                             2      1758  
                             3      1759  
                             3      1760  
                             3      1761  
                             4      1762  
                             2      1763  
                             2      1764  
                             2      1765  
                             5      1766  
                             3      1767  
                             3      1768  
                             2      1769  
                             1      1770  
                             2      1771  
                             7      1772  
                             4      1773  
                             2      1774  
                             5      1775  
                             2      1776  
                             4      1778  
                             1      1779  
                             2      1780  
                             3      1781  
                             4      1782  
                             2      1783  
                             2      1784  
                             4      1785  
                             2      1786  
                             2      1787  
                             1      1788  
                             6      1789  
                             2      1790  
                             1      1792  
                             4      1793  
                             2      1794  
                             2      1795  
                             1      1796  
                             3      1797  
                             3      1798  
                             1      1799  
                             2      1800  
                             2      1801  
                             7      1802  
                             4      1805  
                             1      1806  
                             2      1807  
                             3      1808  
                             2      1809  
                             1      1810  
                             2      1811  
                             3      1812  
                             1      1813  
                             2      1815  
                             1      1817  
                             2      1818  
                             2      1819  
                             2      1821  
                             1      1822  
                             3      1823  
                             1      1826  
                             1      1827  
                             1      1829  
                             1      1832  
                             1      1833  
                             1      1838  
                             1      1840  
                             2      1841  
                             1      1844  
                             2      1847  
                             1      1854  
                             2      1867  
                             1      1869  
                             1      1870  
                             1      1871  
                             3      1872  
                             1      1881  
                             1      1890  
                             1      1896  
                             1      1926  
                             1      1984  
                            24      9994  not present
                             4      9995  refused
                             5      9996  other

. gen     height = hb3/10 

.         //We divide it by 10 in order to express it in centimeters
. replace height = . if hb3>=9990 
(33 real changes made, 33 to missing)

.         //All missing values or out of range are replaced as "."
. summ height

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
      height |      1,451    166.6692    8.322436        123      198.4

. 
. 
. *** Variable: OEDEMA
. lookfor oedema

. gen oedema = "n"  

. tab oedema      

     oedema |      Freq.     Percent        Cum.
------------+-----------------------------------
          n |      1,484      100.00      100.00
------------+-----------------------------------
      Total |      1,484      100.00

. 
. 
. 
. *** Variable: SAMPLING WEIGHT ***
. gen  sw = hv005/1000000 

.         //For DHS sample weight has to be divided 1000000*
. summ sw         

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
          sw |      1,484    .9430601    .7810791    .085763   4.222469

.         
. *** Next, indicate to STATA where the igrowup_restricted.ado file is stored:    
. adopath + "C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\D
> iss\CODING\WHO_anthroplus"
  [1]  (BASE)      "C:\Program Files (x86)\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files (x86)\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Document
> s\Stata configuration\Stata15\ado\personal/"
  [5]  (PLUS)      "C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Document
> s\Stata configuration\Stata15\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Document
> s\LSE\Diss\CODING\WHO_child"
  [8]              "C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Document
> s\LSE\Diss\CODING\WHO_anthroplus"

. 
. 
. /* We use 'reflib' to specify the package directory where the .dta files 
> containing the WHO Growth reference are stored. Note that we use strX to specity 
> the length of the path in string. */            
. gen str150 reflib="C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documen
> ts\LSE\Diss\CODING\WHO_anthroplus"

. lab var reflib "Directory of reference tables"

. 
. 
. /* We use datalib to specify the working directory where the input STATA data
> set containing the anthropometric measurement is stored. */
. gen str150 datalib = "$path_out" 

. lab var datalib "Directory for datafiles"

. 
. 
. /* We use datalab to specify the name that will prefix the output files that 
> will be produced from using this ado file*/
. gen str30 datalab = "boy_nutri_Ghana" 

. lab var datalab "Working file"

.         
. 
. 
. /*We now run the command to calculate the z-scores with the adofile */
. who2007 reflib datalib datalab gender age_month_b ageunit weight height oedema sw

Please wait, programme is running.............

..............................................
Note: z-scores are flagged according to the following rules:
 
                            _zhfa = . if (_zhfa < -6 or _zhfa >6)
                            _zwfa = . if (_zwfa < -6 or _zwfa >5)
                            _zbfa = . if (_zbfa < -5 or _zbfa >5)
                            
(note: file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs\boy_nutri_Ghana_z.dta not found)
file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Diss\CODI
> NG\Ghana\Ghana 2022\Outputs\boy_nutri_Ghana_z.dta saved
Note 1:     Original data plus z-scores are written to
            C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs\boy_nutri_Ghana_z.dta
                            
                            
(note: file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs\boy_nutri_Ghana_z.xls not found)
Note 2:     Original data plus z-scores are written to
            C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs\boy_nutri_Ghana_z.xls
                            

Please wait, programme is calculating prevalences.............

..............................................

Set 1:            Sexes combined

Age groups        Weight-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    5       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    6       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    7       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    8       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    9       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   10       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69

          95%     CI    %>3SD     95%     CI     Mean      SD
Total     -69     -69     -69     -69     -69     -69     -69
    5     -69     -69     -69     -69     -69     -69     -69
    6     -69     -69     -69     -69     -69     -69     -69
    7     -69     -69     -69     -69     -69     -69     -69
    8     -69     -69     -69     -69     -69     -69     -69
    9     -69     -69     -69     -69     -69     -69     -69
   10     -69     -69     -69     -69     -69     -69     -69

Age groups        Height-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total    1142     3.3     2.2     4.4    13.9    11.8    15.9     2.6     1.6     3.5      .3
    5       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    6       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    7       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    8       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    9       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   10       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   11       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   12       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   13       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   14       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   15     335     5.6       3     8.3    19.9    15.5    24.4     1.4       0     2.8       0
   16     281     4.4     1.9       7    13.7     9.5    17.9     3.8     1.4     6.3     1.2
   17     262     2.1      .2       4    13.7     9.3      18     3.4       1     5.8       0
   18     246      .3       0     1.2     6.4     3.1     9.7       2       0     3.9       0
   19      19       0       0     2.7     8.6       0      24       0       0     2.7       0

          95%     CI    %>3SD     95%     CI     Mean      SD
Total       0      .6       0       0       0   -1.01    1.03
    5     -69     -69     -69     -69     -69     -69     -69
    6     -69     -69     -69     -69     -69     -69     -69
    7     -69     -69     -69     -69     -69     -69     -69
    8     -69     -69     -69     -69     -69     -69     -69
    9     -69     -69     -69     -69     -69     -69     -69
   10     -69     -69     -69     -69     -69     -69     -69
   11     -69     -69     -69     -69     -69     -69     -69
   12     -69     -69     -69     -69     -69     -69     -69
   13     -69     -69     -69     -69     -69     -69     -69
   14     -69     -69     -69     -69     -69     -69     -69
   15       0      .1       0       0      .1   -1.14    1.06
   16       0     2.6       0       0      .2   -1.06    1.14
   17       0      .2       0       0      .2    -.99     .98
   18       0      .2       0       0      .2    -.79     .88
   19       0     2.7       0       0     2.7   -1.24     .64

Age groups        BMI-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total    1144     2.1     1.2     2.9      11     9.2    12.9     1.9     1.1     2.7      .4
    5       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    6       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    7       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    8       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    9       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   10       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   11       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   12       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   13       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   14       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   15     335     2.3      .6     4.1     9.7     6.4      13     2.1      .4     3.8      .4
   16     281     2.4      .4     4.4    12.5     8.4    16.5     2.8      .7     4.9      .8
   17     264     1.7       0     3.5    15.1    10.5    19.6       1       0     2.4       0
   18     246     1.8       0     3.7     7.7     4.2    11.2     1.5       0     3.2      .4
   19      19       0       0     2.7       0       0     2.7     3.8       0      15       0

          95%     CI    %>3SD     95%     CI     Mean      SD
Total       0      .8       0       0       0    -.86     .96
    5     -69     -69     -69     -69     -69     -69     -69
    6     -69     -69     -69     -69     -69     -69     -69
    7     -69     -69     -69     -69     -69     -69     -69
    8     -69     -69     -69     -69     -69     -69     -69
    9     -69     -69     -69     -69     -69     -69     -69
   10     -69     -69     -69     -69     -69     -69     -69
   11     -69     -69     -69     -69     -69     -69     -69
   12     -69     -69     -69     -69     -69     -69     -69
   13     -69     -69     -69     -69     -69     -69     -69
   14     -69     -69     -69     -69     -69     -69     -69
   15       0     1.2       0       0      .1    -.88     .95
   16       0     2.1       0       0      .2     -.9    1.02
   17       0      .2       0       0      .2    -.89     .95
   18       0     1.4       0       0      .2    -.77      .9
   19       0     2.7       0       0     2.7    -.57     .91

Set 2:            Males

Age groups        Weight-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    5       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    6       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    7       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    8       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    9       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   10       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69

          95%     CI    %>3SD     95%     CI     Mean      SD
Total     -69     -69     -69     -69     -69     -69     -69
    5     -69     -69     -69     -69     -69     -69     -69
    6     -69     -69     -69     -69     -69     -69     -69
    7     -69     -69     -69     -69     -69     -69     -69
    8     -69     -69     -69     -69     -69     -69     -69
    9     -69     -69     -69     -69     -69     -69     -69
   10     -69     -69     -69     -69     -69     -69     -69

Age groups        Height-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total    1142     3.3     2.2     4.4    13.9    11.8    15.9     2.6     1.6     3.5      .3
    5       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    6       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    7       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    8       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    9       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   10       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   11       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   12       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   13       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   14       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   15     335     5.6       3     8.3    19.9    15.5    24.4     1.4       0     2.8       0
   16     281     4.4     1.9       7    13.7     9.5    17.9     3.8     1.4     6.3     1.2
   17     262     2.1      .2       4    13.7     9.3      18     3.4       1     5.8       0
   18     246      .3       0     1.2     6.4     3.1     9.7       2       0     3.9       0
   19      19       0       0     2.7     8.6       0      24       0       0     2.7       0

          95%     CI    %>3SD     95%     CI     Mean      SD
Total       0      .6       0       0       0   -1.01    1.03
    5     -69     -69     -69     -69     -69     -69     -69
    6     -69     -69     -69     -69     -69     -69     -69
    7     -69     -69     -69     -69     -69     -69     -69
    8     -69     -69     -69     -69     -69     -69     -69
    9     -69     -69     -69     -69     -69     -69     -69
   10     -69     -69     -69     -69     -69     -69     -69
   11     -69     -69     -69     -69     -69     -69     -69
   12     -69     -69     -69     -69     -69     -69     -69
   13     -69     -69     -69     -69     -69     -69     -69
   14     -69     -69     -69     -69     -69     -69     -69
   15       0      .1       0       0      .1   -1.14    1.06
   16       0     2.6       0       0      .2   -1.06    1.14
   17       0      .2       0       0      .2    -.99     .98
   18       0      .2       0       0      .2    -.79     .88
   19       0     2.7       0       0     2.7   -1.24     .64

Age groups        BMI-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total    1144     2.1     1.2     2.9      11     9.2    12.9     1.9     1.1     2.7      .4
    5       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    6       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    7       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    8       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    9       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   10       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   11       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   12       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   13       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   14       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   15     335     2.3      .6     4.1     9.7     6.4      13     2.1      .4     3.8      .4
   16     281     2.4      .4     4.4    12.5     8.4    16.5     2.8      .7     4.9      .8
   17     264     1.7       0     3.5    15.1    10.5    19.6       1       0     2.4       0
   18     246     1.8       0     3.7     7.7     4.2    11.2     1.5       0     3.2      .4
   19      19       0       0     2.7       0       0     2.7     3.8       0      15       0

          95%     CI    %>3SD     95%     CI     Mean      SD
Total       0      .8       0       0       0    -.86     .96
    5     -69     -69     -69     -69     -69     -69     -69
    6     -69     -69     -69     -69     -69     -69     -69
    7     -69     -69     -69     -69     -69     -69     -69
    8     -69     -69     -69     -69     -69     -69     -69
    9     -69     -69     -69     -69     -69     -69     -69
   10     -69     -69     -69     -69     -69     -69     -69
   11     -69     -69     -69     -69     -69     -69     -69
   12     -69     -69     -69     -69     -69     -69     -69
   13     -69     -69     -69     -69     -69     -69     -69
   14     -69     -69     -69     -69     -69     -69     -69
   15       0     1.2       0       0      .1    -.88     .95
   16       0     2.1       0       0      .2     -.9    1.02
   17       0      .2       0       0      .2    -.89     .95
   18       0     1.4       0       0      .2    -.77      .9
   19       0     2.7       0       0     2.7    -.57     .91

Set 3:            Females

Age groups        Weight-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    5       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    6       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    7       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    8       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    9       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   10       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69

          95%     CI    %>3SD     95%     CI     Mean      SD
Total     -69     -69     -69     -69     -69     -69     -69
    5     -69     -69     -69     -69     -69     -69     -69
    6     -69     -69     -69     -69     -69     -69     -69
    7     -69     -69     -69     -69     -69     -69     -69
    8     -69     -69     -69     -69     -69     -69     -69
    9     -69     -69     -69     -69     -69     -69     -69
   10     -69     -69     -69     -69     -69     -69     -69

Age groups        Height-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    5       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    6       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    7       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    8       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    9       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   10       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   11       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   12       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   13       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   14       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   15       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   16       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   17       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   18       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   19       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69

          95%     CI    %>3SD     95%     CI     Mean      SD
Total     -69     -69     -69     -69     -69     -69     -69
    5     -69     -69     -69     -69     -69     -69     -69
    6     -69     -69     -69     -69     -69     -69     -69
    7     -69     -69     -69     -69     -69     -69     -69
    8     -69     -69     -69     -69     -69     -69     -69
    9     -69     -69     -69     -69     -69     -69     -69
   10     -69     -69     -69     -69     -69     -69     -69
   11     -69     -69     -69     -69     -69     -69     -69
   12     -69     -69     -69     -69     -69     -69     -69
   13     -69     -69     -69     -69     -69     -69     -69
   14     -69     -69     -69     -69     -69     -69     -69
   15     -69     -69     -69     -69     -69     -69     -69
   16     -69     -69     -69     -69     -69     -69     -69
   17     -69     -69     -69     -69     -69     -69     -69
   18     -69     -69     -69     -69     -69     -69     -69
   19     -69     -69     -69     -69     -69     -69     -69

Age groups        BMI-for-age

            N  %<-3SD     95%     CI   %<-2SD     95%     CI    %>1SD     95%     CI    %>2SD
Total       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    5       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    6       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    7       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    8       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
    9       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   10       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   11       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   12       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   13       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   14       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   15       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   16       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   17       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   18       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69
   19       0     -69     -69     -69     -69     -69     -69     -69     -69     -69     -69

          95%     CI    %>3SD     95%     CI     Mean      SD
Total     -69     -69     -69     -69     -69     -69     -69
    5     -69     -69     -69     -69     -69     -69     -69
    6     -69     -69     -69     -69     -69     -69     -69
    7     -69     -69     -69     -69     -69     -69     -69
    8     -69     -69     -69     -69     -69     -69     -69
    9     -69     -69     -69     -69     -69     -69     -69
   10     -69     -69     -69     -69     -69     -69     -69
   11     -69     -69     -69     -69     -69     -69     -69
   12     -69     -69     -69     -69     -69     -69     -69
   13     -69     -69     -69     -69     -69     -69     -69
   14     -69     -69     -69     -69     -69     -69     -69
   15     -69     -69     -69     -69     -69     -69     -69
   16     -69     -69     -69     -69     -69     -69     -69
   17     -69     -69     -69     -69     -69     -69     -69
   18     -69     -69     -69     -69     -69     -69     -69
   19     -69     -69     -69     -69     -69     -69     -69
(note: file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs\boy_nutri_Ghana_prev.xls not found)
 
Note:       Prevalences are written to
            C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs\boy_nutri_Ghana_prev.xls

. 
. 
. /*We now turn to using the dta file that was created and that contains 
> the calculated z-scores to compute BMI-for-age*/
. use "$path_out\boy_nutri_Ghana_z.dta", clear 

. 
.                 
. gen     z_bmi_boy = _zbfa
(270 missing values generated)

. replace z_bmi_boy = . if _fbfa==1 
(0 real changes made)

. lab var z_bmi_boy "z-score bmi-for-age_boy WHO"

. 
. 
. gen     low_bmiage_boys = (z_bmi_boy < -2.0) 

.         /*Takes value 1 if BMI-for-age is under 2 stdev below the median & 0 
>         otherwise */
. replace low_bmiage_boys = . if z_bmi==.
(270 real changes made, 270 to missing)

. lab var low_bmiage_boys "Teenage low bmi 2sd_boy- WHO"

. 
. 
. gen teen_IR_boys=1 

.         //Identification variable for observations in IR recode (only 15-19 years)      
. 
. 
.         //Retain relevant variables:    
. keep ind_id teen_IR_boys age_month_b low_bmiage_boys

.  
. order ind_id teen_IR_boys age_month_b low_bmiage_boys

.  
. sort ind_id

. 
. 
.         //Erase files from folder:
. erase "$path_out/boy_nutri_Ghana_z.xls"

. erase "$path_out/boy_nutri_Ghana_prev.xls"

. erase "$path_out/boy_nutri_Ghana_z.dta"

. 
. 
.         //Save a temp file for merging with PR:
. save "$path_out/Ghana22_nb_boy.dta", replace
(note: file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Di
> ss\CODING\Ghana\Ghana 2022\Outputs/Ghana22_nb_boy.dta not found)
file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Diss\CODI
> NG\Ghana\Ghana 2022\Outputs/Ghana22_nb_boy.dta saved

. 
. 
. 
. ********************************************************************************
. *** Step 1.7  PR - HOUSEHOLD MEMBER'S RECODE 
. ********************************************************************************
. 
. use "$path_in/GHPR8CFL.dta", clear

. 
. gen cty         = "Ghana" 

. gen ccty        = "GHA"  

. gen year    = "2022"  

. gen survey  = "DHS"

. 
. 
. *** Generate a household unique key variable at the household level using: 
.         ***hv001=cluster number 
.         ***hv002=household number
. gen double hh_id = hv001*10000 + hv002 

. format hh_id %20.0g

. label var hh_id "Household ID"

. codebook hh_id  

---------------------------------------------------------------------------------------------------
hh_id                                                                                  Household ID
---------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [10001,6180133]              units:  1
         unique values:  17,933                   missing .:  0/69,684

                  mean:   3.4e+06
              std. dev:   1.8e+06

           percentiles:        10%       25%       50%       75%       90%
                            700211   1.8e+06   3.6e+06   4.9e+06   5.6e+06

. 
. 
. *** Generate individual unique key variable required for data merging using:
.         *** hv001=cluster number; 
.         *** hv002=household number; 
.         *** hvidx=respondent's line number.
. gen double ind_id = hv001*1000000 + hv002*100 + hvidx 

. format ind_id %20.0g

. label var ind_id "Individual ID"

. codebook ind_id

---------------------------------------------------------------------------------------------------
ind_id                                                                                Individual ID
---------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [1000101,6.180e+08]          units:  1
         unique values:  69,684                   missing .:  0/69,684

                  mean:   3.4e+08
              std. dev:   1.8e+08

           percentiles:        10%       25%       50%       75%       90%
                           7.0e+07   1.8e+08   3.6e+08   4.9e+08   5.6e+08

. 
. 
. sort hh_id ind_id

.         
.         
. ********************************************************************************
. *** 1.8 DATA MERGING
. ********************************************************************************
. 
. *** Merging BR Recode 
. *****************************************
. merge 1:1 ind_id using "$path_out/Ghana22_BR.dta"

    Result                           # of obs.
    -----------------------------------------
    not matched                        59,328
        from master                    59,328  (_merge==1)
        from using                          0  (_merge==2)

    matched                            10,356  (_merge==3)
    -----------------------------------------

. 
. drop _merge

. 
. erase "$path_out/Ghana22_BR.dta"

. 
. 
. *** Merging IR Recode 
. *****************************************
. merge 1:1 ind_id using "$path_out/Ghana22_IR.dta"

    Result                           # of obs.
    -----------------------------------------
    not matched                        54,670
        from master                    54,670  (_merge==1)
        from using                          0  (_merge==2)

    matched                            15,014  (_merge==3)
    -----------------------------------------

. 
. tab women_IR hv117, miss col

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

           |    eligibility for
           |   female interview
  women_IR | not eligi   eligible |     Total
-----------+----------------------+----------
         1 |         0     15,014 |    15,014 
           |      0.00      98.02 |     21.55 
-----------+----------------------+----------
         . |    54,367        303 |    54,670 
           |    100.00       1.98 |     78.45 
-----------+----------------------+----------
     Total |    54,367     15,317 |    69,684 
           |    100.00     100.00 |    100.00 

. tab ha65 if hv117==1 & women_IR ==., miss

       result of |
         woman's |
      individual |
       interview |      Freq.     Percent        Cum.
-----------------+-----------------------------------
     not at home |         71       23.43       23.43
         refused |         50       16.50       39.93
   incapacitated |         16        5.28       45.21
           other |          1        0.33       45.54
               . |        165       54.46      100.00
-----------------+-----------------------------------
           Total |        303      100.00

.         //Total number of eligible women not interviewed
. tab ha65 ha13 if women_IR == . & hv117==1, miss  

       result of |
         woman's |
      individual |         result of measurement - height/weight
       interview |  measured  not prese    refused      other          . |     Total
-----------------+-------------------------------------------------------+----------
     not at home |         6         62          0          3          0 |        71 
         refused |         8          8         29          5          0 |        50 
   incapacitated |         3          3          0         10          0 |        16 
           other |         1          0          0          0          0 |         1 
               . |         0          0          0          0        165 |       165 
-----------------+-------------------------------------------------------+----------
           Total |        18         73         29         18        165 |       303 

. 
. drop _merge

. 
. erase "$path_out/Ghana22_IR.dta"

. 
. 
. *** Merging IR Recode: 15-19 years girls 
. *****************************************
. merge 1:1 ind_id using "$path_out/Ghana22_IR_girls.dta"

    Result                           # of obs.
    -----------------------------------------
    not matched                        68,192
        from master                    68,192  (_merge==1)
        from using                          0  (_merge==2)

    matched                             1,492  (_merge==3)
    -----------------------------------------

. 
. tab teen_IR hv117 if hv105>=15 & hv105<=19 & hv042==1, miss col                                  
>                                                                                                 

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

           |    eligibility for
           |   female interview
   teen_IR | not eligi   eligible |     Total
-----------+----------------------+----------
         1 |        16      1,476 |     1,492 
           |      1.07     100.00 |     50.13 
-----------+----------------------+----------
         . |     1,484          0 |     1,484 
           |     98.93       0.00 |     49.87 
-----------+----------------------+----------
     Total |     1,500      1,476 |     2,976 
           |    100.00     100.00 |    100.00 

. list ind_id     teen_IR age_month hv105 low_bmiage      age     hv104   hv117   ha2     ha3     i
> f      teen_IR==1 & hv117==0 & hv105>=15 & hv105<=19

       +----------------------------------------------------------------------------------+
 1003. |    ind_id | teen_IR | age_mo~h | hv105 | low_bm~e | age_mo~h |  hv104 |    hv117 |
       |  11008003 |       1 |      200 |    16 |        0 |      200 | female | not elig |
       |----------------------------------------+-----------------------------------------|
       |                     ha2                |                     ha3                 |
       |                     537                |                    1717                 |
       +----------------------------------------------------------------------------------+

       +----------------------------------------------------------------------------------+
 1572. |    ind_id | teen_IR | age_mo~h | hv105 | low_bm~e | age_mo~h |  hv104 |    hv117 |
       |  18012303 |       1 |      190 |    15 |        0 |      190 | female | not elig |
       |----------------------------------------+-----------------------------------------|
       |                     ha2                |                     ha3                 |
       |                     537                |                    1668                 |
       +----------------------------------------------------------------------------------+

       +----------------------------------------------------------------------------------+
 6573. |    ind_id | teen_IR | age_mo~h | hv105 | low_bm~e | age_mo~h |  hv104 |    hv117 |
       |  67009503 |       1 |      210 |    17 |        0 |      210 | female | not elig |
       |----------------------------------------+-----------------------------------------|
       |                     ha2                |                     ha3                 |
       |                     682                |                    1755                 |
       +----------------------------------------------------------------------------------+

       +----------------------------------------------------------------------------------+
20095. |    ind_id | teen_IR | age_mo~h | hv105 | low_bm~e | age_mo~h |  hv104 |    hv117 |
       | 212003702 |       1 |      234 |    18 |        . |      234 | female | not elig |
       |----------------------------------------+-----------------------------------------|
       |                     ha2                |                     ha3                 |
       |                     686                |                    1599                 |
       +----------------------------------------------------------------------------------+

       +----------------------------------------------------------------------------------+
28020. |    ind_id | teen_IR | age_mo~h | hv105 | low_bm~e | age_mo~h |  hv104 |    hv117 |
       | 291014201 |       1 |      185 |    15 |        0 |      185 | female | not elig |
       |----------------------------------------+-----------------------------------------|
       |                     ha2                |                     ha3                 |
       |                     443                |                    1615                 |
       +----------------------------------------------------------------------------------+

       +----------------------------------------------------------------------------------+
29965. |    ind_id | teen_IR | age_mo~h | hv105 | low_bm~e | age_mo~h |  hv104 |    hv117 |
       | 310010205 |       1 |      218 |    18 |        0 |      218 | female | not elig |
       |----------------------------------------+-----------------------------------------|
       |                     ha2                |                     ha3                 |
       |                     663                |                    1587                 |
       +----------------------------------------------------------------------------------+

       +----------------------------------------------------------------------------------+
33528. |    ind_id | teen_IR | age_mo~h | hv105 | low_bm~e | age_mo~h |  hv104 |    hv117 |
       | 347004902 |       1 |      207 |    17 |        0 |      207 | female | not elig |
       |----------------------------------------+-----------------------------------------|
       |                     ha2                |                     ha3                 |
       |                     688                |                    1590                 |
       +----------------------------------------------------------------------------------+

       +----------------------------------------------------------------------------------+
38062. |    ind_id | teen_IR | age_mo~h | hv105 | low_bm~e | age_mo~h |  hv104 |    hv117 |
       | 386000917 |       1 |      220 |    18 |        0 |      220 | female | not elig |
       |----------------------------------------+-----------------------------------------|
       |                     ha2                |                     ha3                 |
       |                     675                |                    1648                 |
       +----------------------------------------------------------------------------------+

       +----------------------------------------------------------------------------------+
40324. |    ind_id | teen_IR | age_mo~h | hv105 | low_bm~e | age_mo~h |  hv104 |    hv117 |
       | 404016803 |       1 |      218 |    18 |        . |      218 | female | not elig |
       |----------------------------------------+-----------------------------------------|
       |                     ha2                |                     ha3                 |
       |                not pres                |                not pres                 |
       +----------------------------------------------------------------------------------+

       +----------------------------------------------------------------------------------+
40338. |    ind_id | teen_IR | age_mo~h | hv105 | low_bm~e | age_mo~h |  hv104 |    hv117 |
       | 405000403 |       1 |      234 |    19 |        . |      234 | female | not elig |
       |----------------------------------------+-----------------------------------------|
       |                     ha2                |                     ha3                 |
       |                not pres                |                not pres                 |
       +----------------------------------------------------------------------------------+

       +----------------------------------------------------------------------------------+
40420. |    ind_id | teen_IR | age_mo~h | hv105 | low_bm~e | age_mo~h |  hv104 |    hv117 |
       | 405009703 |       1 |      204 |    17 |        . |      204 | female | not elig |
       |----------------------------------------+-----------------------------------------|
       |                     ha2                |                     ha3                 |
       |                not pres                |                not pres                 |
       +----------------------------------------------------------------------------------+

       +----------------------------------------------------------------------------------+
45924. |    ind_id | teen_IR | age_mo~h | hv105 | low_bm~e | age_mo~h |  hv104 |    hv117 |
       | 444007206 |       1 |      194 |    16 |        0 |      194 | female | not elig |
       |----------------------------------------+-----------------------------------------|
       |                     ha2                |                     ha3                 |
       |                     420                |                    1569                 |
       +----------------------------------------------------------------------------------+

       +----------------------------------------------------------------------------------+
48866. |    ind_id | teen_IR | age_mo~h | hv105 | low_bm~e | age_mo~h |  hv104 |    hv117 |
       | 465002903 |       1 |      212 |    17 |        . |      212 | female | not elig |
       |----------------------------------------+-----------------------------------------|
       |                     ha2                |                     ha3                 |
       |                not pres                |                not pres                 |
       +----------------------------------------------------------------------------------+

       +----------------------------------------------------------------------------------+
60839. |    ind_id | teen_IR | age_mo~h | hv105 | low_bm~e | age_mo~h |  hv104 |    hv117 |
       | 547004602 |       1 |      191 |    15 |        0 |      191 | female | not elig |
       |----------------------------------------+-----------------------------------------|
       |                     ha2                |                     ha3                 |
       |                     505                |                    1579                 |
       +----------------------------------------------------------------------------------+

       +----------------------------------------------------------------------------------+
62039. |    ind_id | teen_IR | age_mo~h | hv105 | low_bm~e | age_mo~h |  hv104 |    hv117 |
       | 556015803 |       1 |      219 |    18 |        . |      219 | female | not elig |
       |----------------------------------------+-----------------------------------------|
       |                     ha2                |                     ha3                 |
       |                not pres                |                not pres                 |
       +----------------------------------------------------------------------------------+

       +----------------------------------------------------------------------------------+
65640. |    ind_id | teen_IR | age_mo~h | hv105 | low_bm~e | age_mo~h |  hv104 |    hv117 |
       | 584007605 |       1 |      219 |    18 |        0 |      219 | female | not elig |
       |----------------------------------------+-----------------------------------------|
       |                     ha2                |                     ha3                 |
       |                     553                |                    1628                 |
       +----------------------------------------------------------------------------------+

. 
. tab ha65 if hv117==1 & teen_IR ==. & (hv105>=15 & hv105<=19 & hv042==1), miss                    
>                                
no observations

.         //Total number of eligible girls not interviewed
.         
. tab ha65 ha13 if hv117==1 & teen_IR ==. & (hv105>=15 & hv105<=19 & hv042==1), miss 
no observations

. tab ha40 if ha65==1 & ha13 ==0 & hv117==1 & teen_IR ==. & (hv105>=15 & hv105<=19 & hv042==1), mis
> s 
no observations

. 
. 
. drop _merge

. 
. erase "$path_out/Ghana22_IR_girls.dta"

. 
. 
. *** Merging MR Recode 
. *****************************************
. merge 1:1 ind_id using "$path_out/Ghana22_MR.dta"

    Result                           # of obs.
    -----------------------------------------
    not matched                        62,640
        from master                    62,640  (_merge==1)
        from using                          0  (_merge==2)

    matched                             7,044  (_merge==3)
    -----------------------------------------

. 
. tab men_MR hv118, miss col

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

           | eligibility for male
           |       interview
    men_MR | not eligi   eligible |     Total
-----------+----------------------+----------
         1 |         0      7,044 |     7,044 
           |      0.00      96.98 |     10.11 
-----------+----------------------+----------
         . |    62,421        219 |    62,640 
           |    100.00       3.02 |     89.89 
-----------+----------------------+----------
     Total |    62,421      7,263 |    69,684 
           |    100.00     100.00 |    100.00 

. /*Men eligible for interview but missing in the final MR datasets for 164 samples
>  *Result of male interview not provided in the dataset*/
. 
. drop _merge

. 
. erase "$path_out/Ghana22_MR.dta"

. 
. 
. *** Merging MR Recode: 15-19 years boys 
. *****************************************
. merge 1:1 ind_id using "$path_out/Ghana22_nb_boy.dta"

    Result                           # of obs.
    -----------------------------------------
    not matched                        68,200
        from master                    68,200  (_merge==1)
        from using                          0  (_merge==2)

    matched                             1,484  (_merge==3)
    -----------------------------------------

.         
. drop _merge

. 
. erase "$path_out/Ghana22_nb_boy.dta"

. 
. 
. *** Merging KR Recode 
. *****************************************
. merge 1:1 ind_id using "$path_out/Ghana22_KR.dta"

    Result                           # of obs.
    -----------------------------------------
    not matched                        64,602
        from master                    64,602  (_merge==1)
        from using                          0  (_merge==2)

    matched                             5,082  (_merge==3)
    -----------------------------------------

. 
. tab child_KR hv120, miss col

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

           | children eligibility
           | for height/weight and
           |      hemoglobin
  child_KR | not eligi   eligible |     Total
-----------+----------------------+----------
         1 |         0      5,082 |     5,082 
           |      0.00     100.00 |      7.29 
-----------+----------------------+----------
         . |    64,602          0 |    64,602 
           |    100.00       0.00 |     92.71 
-----------+----------------------+----------
     Total |    64,602      5,082 |    69,684 
           |    100.00     100.00 |    100.00 

. 
. tab hc13 hv120 if child_KR==. & hv120==1
no observations

. 
. drop _merge

. 
. erase "$path_out/Ghana22_KR.dta"

. 
. sort ind_id

. 
. 
. ********************************************************************************
. *** Step 1.9 KEEPING ONLY DE JURE HOUSEHOLD MEMBERS ***
. ********************************************************************************
. 
. //Permanent (de jure) household members 
. clonevar resident = hv102 

. codebook resident, tab (10) 

---------------------------------------------------------------------------------------------------
resident                                                                             usual resident
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV102

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  0/69,684

            tabulation:  Freq.   Numeric  Label
                           797         0  no
                        68,887         1  yes

. label var resident "Permanent (de jure) household member"

. 
. 
. drop if resident!=1 
(797 observations deleted)

. tab resident, miss

  Permanent |
  (de jure) |
  household |
     member |      Freq.     Percent        Cum.
------------+-----------------------------------
        yes |     68,887      100.00      100.00
------------+-----------------------------------
      Total |     68,887      100.00

.         /*Note: The Global MPI is based on de jure (permanent) household members 
>         only. As such, non-usual residents will be excluded from the sample.*/
. 
.                                                                                         
. ********************************************************************************
. *** 1.10 CONTROL VARIABLES
. ********************************************************************************
. 
. /* Households are identified as having 'no eligible' members if there are no 
> applicable population, that is, children 0-5 years for nutrition indicator, and
> adult women 15-49 years or men 15-59 years for child mortality indicator. 
> These households will not have information on relevant indicators of health indicators. 
> As such, these households are considered as non-deprived in those relevant indicators.*/
. 
. 
. *** No Eligible Women 15-49 years
. *****************************************
. gen fem_eligible = (hv117==1)

. replace fem_eligible = 0 if hv117==1 & hv105>49 & hv105<=64 & hv104==2
(0 real changes made)

. bys hh_id: egen hh_n_fem_eligible = sum(fem_eligible)   

.         //Number of eligible women for interview in the hh
. gen no_fem_eligible = (hh_n_fem_eligible==0)                                                     
>                

.         //Takes value 1 if the household had no eligible females for an interview
. lab var no_fem_eligible "Household has no eligible women"

. tab no_fem_eligible, miss

  Household |
     has no |
   eligible |
      women |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     55,478       80.53       80.53
          1 |     13,409       19.47      100.00
------------+-----------------------------------
      Total |     68,887      100.00

. tab hv117 no_fem_eligible, miss

 eligibility |   Household has no
  for female |    eligible women
   interview |         0          1 |     Total
-------------+----------------------+----------
not eligible |    40,456     13,409 |    53,865 
    eligible |    15,022          0 |    15,022 
-------------+----------------------+----------
       Total |    55,478     13,409 |    68,887 

. 
. 
. *** No Eligible Men 15-59 years
. *****************************************
. gen male_eligible = (hv118==1)

. bys hh_id: egen hh_n_male_eligible = sum(male_eligible)  

.         //Number of eligible men for interview in the hh
. gen no_male_eligible = (hh_n_male_eligible==0)  

.         //Takes value 1 if the household had no eligible males for an interview
. lab var no_male_eligible "Household has no eligible man"

. tab no_male_eligible, miss

  Household |
     has no |
   eligible |
        man |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     24,468       35.52       35.52
          1 |     44,419       64.48      100.00
------------+-----------------------------------
      Total |     68,887      100.00

. tab hv118 no_male_eligible, miss

 eligibility |   Household has no
    for male |     eligible man
   interview |         0          1 |     Total
-------------+----------------------+----------
not eligible |    17,264     44,419 |    61,683 
    eligible |     7,204          0 |     7,204 
-------------+----------------------+----------
       Total |    24,468     44,419 |    68,887 

. 
. 
. *** No Eligible Children 0-5 years
. *****************************************
. gen child_eligible = (hv120==1) 

. bys hh_id: egen hh_n_children_eligible = sum(child_eligible)  

.         //Number of eligible children for anthropometrics
. gen no_child_eligible = (hh_n_children_eligible==0) 

.         //Takes value 1 if there were no eligible children for anthropometrics
. lab var no_child_eligible "Household has no children eligible"

. tab no_child_eligible, miss

  Household |
     has no |
   children |
   eligible |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     19,645       28.52       28.52
          1 |     49,242       71.48      100.00
------------+-----------------------------------
      Total |     68,887      100.00

. tab hv120 no_child_eligible, miss

    children |
 eligibility |
         for |
height/weigh |   Household has no
       t and |   children eligible
  hemoglobin |         0          1 |     Total
-------------+----------------------+----------
not eligible |    14,631     49,242 |    63,873 
    eligible |     5,014          0 |     5,014 
-------------+----------------------+----------
       Total |    19,645     49,242 |    68,887 

. 
. 
. *** No Eligible Women and Men 
. ***********************************************
.         /*NOTE: In the DHS datasets, we use this variable as a control 
>         variable for the child mortality indicator if mortality data was 
>         collected from women and men. If child mortality was only collected 
>         from women, the we use 'no_fem_eligible' as the eligibility criteria */
. gen     no_adults_eligible = (no_fem_eligible==1 & no_male_eligible==1) 

.         //Takes value 1 if the household had no eligible men & women for an interview
. lab var no_adults_eligible "Household has no eligible women or men"

. tab no_adults_eligible, miss 

  Household |
     has no |
   eligible |
   women or |
        men |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     59,349       86.15       86.15
          1 |      9,538       13.85      100.00
------------+-----------------------------------
      Total |     68,887      100.00

. 
. drop fem_eligible hh_n_fem_eligible male_eligible hh_n_male_eligible child_eligible hh_n_children
> _eligible 

. 
. 
. sort hh_id ind_id

. 
. 
. ********************************************************************************
. *** 1.11 SUBSAMPLE VARIABLE ***
. ********************************************************************************
. 
. tab ha13 hv042, m

  result of |
measurement |
          - |  household selected
height/weig |    for hemoglobin
         ht | not selec   selected |     Total
------------+----------------------+----------
   measured |         0      7,565 |     7,565 
not present |         0        116 |       116 
    refused |         0         63 |        63 
      other |         0         27 |        27 
          . |    34,568     26,548 |    61,116 
------------+----------------------+----------
      Total |    34,568     34,319 |    68,887 

. tab hb13 hv042, m

  result of |
measurement |
          - |  household selected
height/weig |    for hemoglobin
         ht | not selec   selected |     Total
------------+----------------------+----------
   measured |         0      7,057 |     7,057 
not present |         0        223 |       223 
    refused |         0         53 |        53 
      other |         0         44 |        44 
          . |    34,568     26,942 |    61,510 
------------+----------------------+----------
      Total |    34,568     34,319 |    68,887 

. tab hc13 hv042, m

  result of |
measurement |
          - |  household selected
height/weig |    for hemoglobin
         ht | not selec   selected |     Total
------------+----------------------+----------
   measured |         0      4,897 |     4,897 
not present |         0         66 |        66 
    refused |         0         35 |        35 
      other |         0         16 |        16 
          . |    34,568     29,305 |    63,873 
------------+----------------------+----------
      Total |    34,568     34,319 |    68,887 

. 
. gen subsample=hv042

. label var subsample "Households selected as part of nutrition subsample" 

. tab subsample, miss

 Households |
selected as |
    part of |
  nutrition |
  subsample |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     34,568       50.18       50.18
          1 |     34,319       49.82      100.00
------------+-----------------------------------
      Total |     68,887      100.00

. drop if subsample!=1
(34,568 observations deleted)

. 
. ********************************************************************************
. *** 1.12 RENAMING DEMOGRAPHIC VARIABLES ***
. ********************************************************************************
. 
. //Sample weight
. desc hv005

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
hv005           long    %12.0g                household sample weight (6 decimals)

. clonevar weight = hv005 

. label var weight "Sample weight"

. 
. 
. //Area: urban or rural  
. desc hv025

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
hv025           byte    %8.0g      HV025      type of place of residence

. codebook hv025, tab (5)         

---------------------------------------------------------------------------------------------------
hv025                                                                    type of place of residence
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV025

                 range:  [1,2]                        units:  1
         unique values:  2                        missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                        15,383         1  urban
                        18,936         2  rural

. clonevar area = hv025  

. replace area=0 if area==2 
(18,936 real changes made)

. label define lab_area 1 "urban" 0 "rural", modify

. label values area lab_area

. label var area "Area: urban-rural"

. 
. 
. //Relationship to the head of household 
. clonevar relationship = hv101 

. codebook relationship, tab (20)

---------------------------------------------------------------------------------------------------
relationship                                                                   relationship to head
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV101

                 range:  [1,12]                       units:  1
         unique values:  11                       missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                         8,964         1  head
                         4,394         2  wife or husband
                        14,666         3  son/daughter
                           194         4  son/daughter-in-law
                         2,683         5  grandchild
                           560         6  parent
                            43         7  parent-in-law
                           670         8  brother/sister
                         1,488        10  other relative
                           425        11  adopted/foster child
                           232        12  not related

. recode relationship (1=1)(2=2)(3=3)(11=3)(4/10=4)(14=3)(15=6) (16=4)(12=5)(13=5)(98=.)           
>        
(relationship: 6101 changes made)

. label define lab_rel 1"head" 2"spouse" 3"child" 4"extended family" ///
>                                          5"not related" 6"maid", modify

. label values relationship lab_rel

. label var relationship "Relationship to the head of household"

. tab hv101 relationship, miss

                      |         Relationship to the head of household
 relationship to head |      head     spouse      child  extended   not relat |     Total
----------------------+-------------------------------------------------------+----------
                 head |     8,964          0          0          0          0 |     8,964 
      wife or husband |         0      4,394          0          0          0 |     4,394 
         son/daughter |         0          0     14,666          0          0 |    14,666 
  son/daughter-in-law |         0          0          0        194          0 |       194 
           grandchild |         0          0          0      2,683          0 |     2,683 
               parent |         0          0          0        560          0 |       560 
        parent-in-law |         0          0          0         43          0 |        43 
       brother/sister |         0          0          0        670          0 |       670 
       other relative |         0          0          0      1,488          0 |     1,488 
 adopted/foster child |         0          0        425          0          0 |       425 
          not related |         0          0          0          0        232 |       232 
----------------------+-------------------------------------------------------+----------
                Total |     8,964      4,394     15,091      5,638        232 |    34,319 

. 
. 
. //Sex of household member       
. codebook hv104, tab (10)

---------------------------------------------------------------------------------------------------
hv104                                                                       sex of household member
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV104

                 range:  [1,2]                        units:  1
         unique values:  2                        missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                        16,249         1  male
                        18,070         2  female

. clonevar sex = hv104  

. label var sex "Sex of household member"

. 
. 
. //Age of household member
. codebook hv105, tab (1000)

---------------------------------------------------------------------------------------------------
hv105                                                                      age of household members
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV105, but 95 nonmissing values are not labeled

                 range:  [0,98]                       units:  1
         unique values:  97                       missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                         1,012         0  
                         1,057         1  
                           968         2  
                           989         3  
                           977         4  
                           876         5  
                         1,066         6  
                           972         7  
                         1,038         8  
                           943         9  
                           993        10  
                           895        11  
                           921        12  
                           958        13  
                           928        14  
                           678        15  
                           630        16  
                           570        17  
                           571        18  
                           476        19  
                           570        20  
                           406        21  
                           547        22  
                           476        23  
                           421        24  
                           459        25  
                           413        26  
                           403        27  
                           480        28  
                           412        29  
                           584        30  
                           318        31  
                           470        32  
                           364        33  
                           374        34  
                           420        35  
                           347        36  
                           386        37  
                           396        38  
                           344        39  
                           438        40  
                           222        41  
                           402        42  
                           316        43  
                           251        44  
                           331        45  
                           207        46  
                           240        47  
                           258        48  
                           186        49  
                           320        50  
                           219        51  
                           348        52  
                           232        53  
                           249        54  
                           249        55  
                           209        56  
                           164        57  
                           158        58  
                           140        59  
                           286        60  
                           170        61  
                           302        62  
                           175        63  
                           159        64  
                           230        65  
                           104        66  
                           130        67  
                           130        68  
                            72        69  
                           181        70  
                            41        71  
                           117        72  
                            71        73  
                            84        74  
                           111        75  
                            59        76  
                            70        77  
                            71        78  
                            34        79  
                            78        80  
                            21        81  
                            61        82  
                            25        83  
                            32        84  
                            45        85  
                            26        86  
                            25        87  
                            21        88  
                            15        89  
                            32        90  
                             5        91  
                             6        92  
                             3        93  
                             3        94  
                            53        95  95+
                            24        98  don't know

. clonevar age = hv105  

. replace age = . if age>=98
(24 real changes made, 24 to missing)

. label var age "Age of household member"

. 
. 
. //Age group 
. recode age (0/4 = 1 "0-4")(5/9 = 2 "5-9")(10/14 = 3 "10-14") ///
>                    (15/17 = 4 "15-17")(18/59 = 5 "18-59")(60/max=6 "60+"), gen(agec7)
(33238 differences between age and agec7)

. lab var agec7 "age groups (7 groups)"   

.            
. recode age (0/9 = 1 "0-9") (10/17 = 2 "10-17")(18/59 = 3 "18-59") ///
>                    (60/max=4 "60+"), gen(agec4)
(33238 differences between age and agec4)

. lab var agec4 "age groups (4 groups)"

. 
. 
. //Marital status of household member
. clonevar marital = hv115 
(14,593 missing values generated)

. codebook marital, tab (20)

---------------------------------------------------------------------------------------------------
marital                                                                      current marital status
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV115

                 range:  [0,4]                        units:  1
         unique values:  4                        missing .:  14,593/34,319

            tabulation:  Freq.   Numeric  Label
                         5,928         0  never married
                        11,113         1  married
                         1,530         3  widowed
                         1,155         4  divorced
                        14,593         .  

. recode marital (0=1)(1=2)(8=.)
(marital: 17041 changes made)

. label define lab_mar 1"never married" 2"currently married" ///
>                                          3"widowed" 4"divorced" 5"not living together", modify

. label values marital lab_mar    

. label var marital "Marital status of household member"

. tab hv115 marital, miss

    current marital |           Marital status of household member
             status | never mar  currently    widowed   divorced          . |     Total
--------------------+-------------------------------------------------------+----------
      never married |     5,928          0          0          0          0 |     5,928 
            married |         0     11,113          0          0          0 |    11,113 
            widowed |         0          0      1,530          0          0 |     1,530 
           divorced |         0          0          0      1,155          0 |     1,155 
                  . |         0          0          0          0     14,593 |    14,593 
--------------------+-------------------------------------------------------+----------
              Total |     5,928     11,113      1,530      1,155     14,593 |    34,319 

. 
. 
. //Total number of de jure hh members in the household
. gen member = 1

. bysort hh_id: egen hhsize = sum(member)

. label var hhsize "Household size"

. tab hhsize, miss

  Household |
       size |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      1,912        5.57        5.57
          2 |      2,456        7.16       12.73
          3 |      4,278       12.47       25.19
          4 |      5,340       15.56       40.75
          5 |      5,345       15.57       56.33
          6 |      4,752       13.85       70.17
          7 |      3,535       10.30       80.47
          8 |      2,320        6.76       87.23
          9 |      1,449        4.22       91.46
         10 |        960        2.80       94.25
         11 |        528        1.54       95.79
         12 |        408        1.19       96.98
         13 |        455        1.33       98.31
         14 |        238        0.69       99.00
         15 |         60        0.17       99.18
         16 |         96        0.28       99.46
         17 |         51        0.15       99.60
         18 |         18        0.05       99.66
         19 |         19        0.06       99.71
         20 |         20        0.06       99.77
         22 |         44        0.13       99.90
         35 |         35        0.10      100.00
------------+-----------------------------------
      Total |     34,319      100.00

. drop member

. 
. 
. //Subnational region
. lookfor region

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
hv024           byte    %8.0g      HV024      region

. codebook hv024, tab (100)       

---------------------------------------------------------------------------------------------------
hv024                                                                                        region
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV024

                 range:  [1,16]                       units:  1
         unique values:  16                       missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                         1,707         1  western
                         2,145         2  central
                         2,065         3  greater accra
                         1,732         4  volta
                         1,904         5  eastern
                         2,379         6  ashanti
                         1,718         7  western north
                         1,879         8  ahafo
                         1,704         9  bono
                         2,129        10  bono east
                         2,126        11  oti
                         2,865        12  northern
                         2,643        13  savannah
                         2,778        14  north east
                         2,376        15  upper east
                         2,169        16  upper west

. clonevar region = hv024

. lab var region "Region for subnational decomposition"

. 
. label values region HV024

. tab hv024 region, miss

              |               Region for subnational decomposition
       region |   western    central  greater a      volta    eastern    ashanti |     Total
--------------+------------------------------------------------------------------+----------
      western |     1,707          0          0          0          0          0 |     1,707 
      central |         0      2,145          0          0          0          0 |     2,145 
greater accra |         0          0      2,065          0          0          0 |     2,065 
        volta |         0          0          0      1,732          0          0 |     1,732 
      eastern |         0          0          0          0      1,904          0 |     1,904 
      ashanti |         0          0          0          0          0      2,379 |     2,379 
western north |         0          0          0          0          0          0 |     1,718 
        ahafo |         0          0          0          0          0          0 |     1,879 
         bono |         0          0          0          0          0          0 |     1,704 
    bono east |         0          0          0          0          0          0 |     2,129 
          oti |         0          0          0          0          0          0 |     2,126 
     northern |         0          0          0          0          0          0 |     2,865 
     savannah |         0          0          0          0          0          0 |     2,643 
   north east |         0          0          0          0          0          0 |     2,778 
   upper east |         0          0          0          0          0          0 |     2,376 
   upper west |         0          0          0          0          0          0 |     2,169 
--------------+------------------------------------------------------------------+----------
        Total |     1,707      2,145      2,065      1,732      1,904      2,379 |    34,319 


              |               Region for subnational decomposition
       region | western n      ahafo       bono  bono east        oti   northern |     Total
--------------+------------------------------------------------------------------+----------
      western |         0          0          0          0          0          0 |     1,707 
      central |         0          0          0          0          0          0 |     2,145 
greater accra |         0          0          0          0          0          0 |     2,065 
        volta |         0          0          0          0          0          0 |     1,732 
      eastern |         0          0          0          0          0          0 |     1,904 
      ashanti |         0          0          0          0          0          0 |     2,379 
western north |     1,718          0          0          0          0          0 |     1,718 
        ahafo |         0      1,879          0          0          0          0 |     1,879 
         bono |         0          0      1,704          0          0          0 |     1,704 
    bono east |         0          0          0      2,129          0          0 |     2,129 
          oti |         0          0          0          0      2,126          0 |     2,126 
     northern |         0          0          0          0          0      2,865 |     2,865 
     savannah |         0          0          0          0          0          0 |     2,643 
   north east |         0          0          0          0          0          0 |     2,778 
   upper east |         0          0          0          0          0          0 |     2,376 
   upper west |         0          0          0          0          0          0 |     2,169 
--------------+------------------------------------------------------------------+----------
        Total |     1,718      1,879      1,704      2,129      2,126      2,865 |    34,319 


              |    Region for subnational decomposition
       region |  savannah  north eas  upper eas  upper wes |     Total
--------------+--------------------------------------------+----------
      western |         0          0          0          0 |     1,707 
      central |         0          0          0          0 |     2,145 
greater accra |         0          0          0          0 |     2,065 
        volta |         0          0          0          0 |     1,732 
      eastern |         0          0          0          0 |     1,904 
      ashanti |         0          0          0          0 |     2,379 
western north |         0          0          0          0 |     1,718 
        ahafo |         0          0          0          0 |     1,879 
         bono |         0          0          0          0 |     1,704 
    bono east |         0          0          0          0 |     2,129 
          oti |         0          0          0          0 |     2,126 
     northern |         0          0          0          0 |     2,865 
     savannah |     2,643          0          0          0 |     2,643 
   north east |         0      2,778          0          0 |     2,778 
   upper east |         0          0      2,376          0 |     2,376 
   upper west |         0          0          0      2,169 |     2,169 
--------------+--------------------------------------------+----------
        Total |     2,643      2,778      2,376      2,169 |    34,319 

. 
. 
. ********************************************************************************
. ***  Step 2 Data preparation  ***
. ***  Standardization of the 10 Global MPI indicators 
. ***  Identification of non-deprived & deprived individuals  
. ********************************************************************************
. 
. 
. ********************************************************************************
. *** Step 2.1 Years of Schooling ***
. ********************************************************************************
. 
. ** official entrance age = 6 yrs 
. ** duration of primary = 6 yrs 
. 
. codebook hv108, tab(30)

---------------------------------------------------------------------------------------------------
hv108                                                           education completed in single years
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV108, but 25 nonmissing values are not labeled

                 range:  [0,98]                       units:  1
         unique values:  26                       missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                        14,212         0  
                         1,374         1  
                         1,320         2  
                         1,427         3  
                         1,312         4  
                         1,440         5  
                         1,577         6  
                         1,308         7  
                           821         8  
                         3,425         9  
                         1,500        10  
                           299        11  
                         2,369        12  
                           236        13  
                           263        14  
                           659        15  
                           575        16  
                            56        17  
                            86        18  
                            23        19  
                             9        20  
                             1        21  
                             3        22  
                             2        23  
                             1        24  
                            21        98  don't know

. clonevar  eduyears = hv108   

.         *total number of years of education
. replace eduyears = . if eduyears>30
(21 real changes made, 21 to missing)

.         *recode any unreasonable years of highest education as missing value
. list age eduyears if eduyears>=age & age>0 & eduyears!=.

       +----------------+
       | age   eduyears |
       |----------------|
 3876. |   8          9 |
 5531. |   8          9 |
 6116. |   9          9 |
 8674. |  13         16 |
 8675. |  11         14 |
       |----------------|
19748. |   7          7 |
23236. |  13         13 |
25811. |   9          9 |
27351. |   9         10 |
28018. |   4          7 |
       |----------------|
30732. |   7          9 |
31748. |   8          9 |
32110. |   9         11 |
       +----------------+

. replace eduyears = . if eduyears>=age & age>0 & eduyears!=.
(13 real changes made, 13 to missing)

. replace eduyears = 0 if age < 10
(1,694 real changes made)

. replace eduyears = 0 if (age==10 | age==11 ) & eduyears < 6
(1,596 real changes made)

.         /*The variable "eduyears" was replaced with a '0' given that the criteria 
>         for this indicator is household member aged 12 years or older */
. 
. tab hv108 hv106, m

   education |
completed in |           highest educational level attained
single years | no educat    primary  secondary     higher  don't kno |     Total
-------------+-------------------------------------------------------+----------
           0 |    13,341        871          0          0          0 |    14,212 
           1 |         0      1,374          0          0          0 |     1,374 
           2 |         0      1,320          0          0          0 |     1,320 
           3 |         0      1,427          0          0          0 |     1,427 
           4 |         0      1,312          0          0          0 |     1,312 
           5 |         0      1,440          0          0          0 |     1,440 
           6 |         0        968        609          0          0 |     1,577 
           7 |         0          0      1,308          0          0 |     1,308 
           8 |         0          0        821          0          0 |       821 
           9 |         0          0      3,425          0          0 |     3,425 
          10 |         0          0      1,500          0          0 |     1,500 
          11 |         0          0        299          0          0 |       299 
          12 |         0          0      2,322         47          0 |     2,369 
          13 |         0          0        111        125          0 |       236 
          14 |         0          0          0        263          0 |       263 
          15 |         0          0          0        659          0 |       659 
          16 |         0          0          0        575          0 |       575 
          17 |         0          0          0         56          0 |        56 
          18 |         0          0          0         86          0 |        86 
          19 |         0          0          0         23          0 |        23 
          20 |         0          0          0          9          0 |         9 
          21 |         0          0          0          1          0 |         1 
          22 |         0          0          0          3          0 |         3 
          23 |         0          0          0          2          0 |         2 
          24 |         0          0          0          1          0 |         1 
  don't know |         0          0          4          1         16 |        21 
-------------+-------------------------------------------------------+----------
       Total |    13,341      8,712     10,399      1,851         16 |    34,319 

. replace eduyears=6 if age>=10 & age<. & (hv106==2| hv106==3) & (hv108==. | hv108==98 | hv108==99)
(5 real changes made)

. /* Few individuals with missing years of schooling but had secondary or higher level education im
> puted 
>    years of education as 6 years since we know they had completed at-least 6 years of schooling a
> nd 
>    it is sufficient for the gMPI to be considered not deprived */                                
>                                                                                                
. 
. tab ha67 ha66 if hv108==98, m

   woman's |
   highest |
   year of |      woman's highest educational level
 education | no educat    primary  secondary          . |     Total
-----------+--------------------------------------------+----------
         1 |         0          1          0          0 |         1 
         2 |         0          1          1          0 |         2 
         4 |         0          1          0          0 |         1 
         . |         2          0          0         15 |        17 
-----------+--------------------------------------------+----------
     Total |         2          3          1         15 |        21 

. tab hb67 hb66 if hv108==98, m

     man's |
   highest |
   year of |                  man's highest educational level
 education | no educat    primary  secondary     higher  don't kno          . |     Total
-----------+------------------------------------------------------------------+----------
         3 |         0          0          2          0          0          0 |         2 
         6 |         0          1          0          0          0          0 |         1 
don't know |         0          0          0          1          0          0 |         1 
         . |         1          0          0          0          2         14 |        17 
-----------+------------------------------------------------------------------+----------
     Total |         1          1          2          1          2         14 |        21 

. 
. replace eduyears = 0 if (hv108==98| hv108==.) & (ha66==0 | hb66==0)
(3 real changes made)

. replace eduyears = ha67 if hv108==98 & ha66==1 & ha67<=6
(3 real changes made)

. replace eduyears = hb67 if hv108==98 & hb66==1 & hb67<=6
(1 real change made)

. replace eduyears = ha67 + 6 if hv108==98 & ha66==2 & ha67<=7
(1 real change made)

. replace eduyears = hb67 + 6 if hv108==98 & hb66==2 & hb67<=7
(2 real changes made)

. replace eduyears = ha67 + 13 if hv108==98 & ha66==3 & ha67<=7
(0 real changes made)

. replace eduyears = hb67 + 13 if hv108==98 & hb66==3 & (hb67<=7 | hb67==98)
variable eduyears was byte now int
(1 real change made)

. 
. replace eduyears=6 if eduyears==. & (ha66==2| ha66==3 | hb66==2| hb66==3)
(0 real changes made)

. 
. replace eduyears=0 if eduyears==. & hv108==98 & hv109==1
(0 real changes made)

. 
.         /*A control variable is created on whether there is information on 
>         years of education for at least 2/3 of the household members. */
. gen temp = 1 if (eduyears!=. & (age>=12 & age!=.)) | (((age==10 | age==11) & eduyears>=6 & eduyea
> rs<.))
(11,793 missing values generated)

. bysort  hh_id: egen no_missing_edu = sum(temp)

.         /*Total household members who are 12 years and older with no missing 
>         years of education but recognizing as an achievement if the member is 10 or 11 and alread
> y completed 6 yrs of schooling */
. gen temp2 = 1 if (age>=12 & age!=.) | (((age==10 | age==11) & eduyears>=6 & eduyears<.))
(11,781 missing values generated)

. bysort hh_id: egen hhs = sum(temp2)

.         //Total number of household members who are 12 years and older 
. replace no_missing_edu = no_missing_edu/hhs
(30,542 real changes made, 1 to missing)

. replace no_missing_edu = (no_missing_edu>=2/3)
(57 real changes made)

.         /*Identify whether there is information on years of education for at 
>         least 2/3 of the household members aged 12 years and older */
. tab no_missing_edu, miss

no_missing_ |
        edu |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |          8        0.02        0.02
          1 |     34,311       99.98      100.00
------------+-----------------------------------
      Total |     34,319      100.00

. label var no_missing_edu "No missing edu for at least 2/3 of the HH members aged 12 years & older
> "              

. drop temp temp2 hhs

. 
. 
. /*The entire household is considered deprived if no household member aged 
> 12 years or older has completed SIX years of schooling. */
. 
. gen      years_edu6 = (eduyears>=6)

.         /* The years of schooling indicator takes a value of "1" if at least someone 
>         in the hh has reported 6 years of education or more */
. replace years_edu6 = . if eduyears==.
(13 real changes made, 13 to missing)

. bysort hh_id: egen hh_years_edu6_1 = max(years_edu6)

. gen     hh_years_edu6 = (hh_years_edu6_1==1)

. replace hh_years_edu6 = . if hh_years_edu6_1==.
(0 real changes made)

. replace hh_years_edu6 = . if hh_years_edu6==0 & no_missing_edu==0 
(4 real changes made, 4 to missing)

. lab var hh_years_edu6 "Household has at least one member with 6 years of edu"

. tab hh_years_edu6, m

  Household |
     has at |
  least one |
member with |
 6 years of |
        edu |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      6,859       19.99       19.99
          1 |     27,456       80.00       99.99
          . |          4        0.01      100.00
------------+-----------------------------------
      Total |     34,319      100.00

. 
. ********************************************************************************
. *** Step 2.2 Child School Attendance ***
. ********************************************************************************
. 
. codebook hv121, tab (10)

---------------------------------------------------------------------------------------------------
hv121                                             member attended school during current school year
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV121

                 range:  [0,2]                        units:  1
         unique values:  2                        missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                        23,015         0  no
                        11,304         2  attended at some time

. clonevar attendance = hv121 

. recode attendance (2=1) 
(attendance: 11304 changes made)

. codebook attendance, tab (10)

---------------------------------------------------------------------------------------------------
attendance                                        member attended school during current school year
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV121

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                        23,015         0  no
                        11,304         1  currently attending

. 
. replace attendance = 0 if (attendance==9 | attendance==.) & hv109==0 
(0 real changes made)

.         /*In some countries, they don't assess attendance for those with no 
>          educational attainment. These are replaced with a '0' */
. replace attendance = . if  attendance==9 & hv109!=0
(0 real changes made)

.         //Replace missing values
.         
.         
. 
. *** New Standard MPI ***
. ******************************************************************* 
. /*The entire household is considered deprived if any school-aged child is not 
> attending school up to class 8. */ 
. 
. gen child_schoolage = (age>=6 & age<=14)

.         /* Note: In Ghana, the official school entrance age is 6 years.  
>         So, age range is 6-14 (6+8)
>         Source: http://data.uis.unesco.org*/
.         
.         /*A control variable is created on whether there is no information on 
>         school attendance for at least 2/3 of the school age children */
. count if child_schoolage==1 & attendance==.
  0

.         //Understand how many eligible school aged children are not attending school 
. gen temp = 1 if child_schoolage==1 & attendance!=.
(25,605 missing values generated)

.         /*Generate a variable that captures the number of eligible school aged 
>         children who are attending school */
. bysort hh_id: egen no_missing_atten = sum(temp) 

.         /*Total school age children with no missing information on school 
>         attendance */
. gen temp2 = 1 if child_schoolage==1     
(25,605 missing values generated)

. bysort hh_id: egen hhs = sum(temp2)

.         //Total number of household members who are of school age
. replace no_missing_atten = no_missing_atten/hhs 
(26,346 real changes made, 9,812 to missing)

. replace no_missing_atten = (no_missing_atten>=2/3)
(9,812 real changes made)

.         /*Identify whether there is missing information on school attendance for 
>         more than 2/3 of the school age children */                     
. tab no_missing_atten, miss

no_missing_ |
      atten |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |     34,319      100.00      100.00
------------+-----------------------------------
      Total |     34,319      100.00

. label var no_missing_atten "No missing school attendance for at least 2/3 of the school aged chil
> dren"          

. drop temp temp2 hhs

.         
.         
. bysort hh_id: egen hh_children_schoolage = sum(child_schoolage)

. replace hh_children_schoolage = (hh_children_schoolage>0) 
(16,534 real changes made)

.         //Control variable: 
.         //It takes value 1 if the household has children in school age
. lab var hh_children_schoolage "Household has children in school age"

. 
. 
. gen     child_not_atten = (attendance==0) if child_schoolage==1
(25,605 missing values generated)

. replace child_not_atten = . if attendance==. & child_schoolage==1
(0 real changes made)

. bysort  hh_id: egen any_child_not_atten = max(child_not_atten)
(9812 missing values generated)

. gen     hh_child_atten = (any_child_not_atten==0) 

. replace hh_child_atten = . if any_child_not_atten==.
(9,812 real changes made, 9,812 to missing)

. replace hh_child_atten = 1 if hh_children_schoolage==0
(9,812 real changes made)

. replace hh_child_atten = . if hh_child_atten==1 & no_missing_atten==0 
(0 real changes made)

.         /*If the household has been intially identified as non-deprived, but has 
>         missing school attendance for at least 2/3 of the school aged children, then 
>         we replace this household with a value of '.' because there is insufficient 
>         information to conclusively conclude that the household is not deprived */
. lab var hh_child_atten "Household has all school age children up to class 8 in school"

. tab hh_child_atten, miss

  Household |
    has all |
 school age |
children up |
 to class 8 |
  in school |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      4,630       13.49       13.49
          1 |     29,689       86.51      100.00
------------+-----------------------------------
      Total |     34,319      100.00

. 
.         /*Note: The indicator takes value 1 if ALL children in school age are 
>         attending school and 0 if there is at least one child not attending. 
>         Households with no children receive a value of 1 as non-deprived. The 
>         indicator has a missing value only when there are all missing values on 
>         children attendance in households that have children in school age. */
.         
.         
. ********************************************************************************
. *** Step 2.3 Nutrition ***
. ********************************************************************************
. 
. 
. ********************************************************************************
. *** Step 2.3a Adult Nutrition ***
. ********************************************************************************
. 
. lookfor body mass

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
ha40            int     %8.0g      HA40       body mass index
hb40            int     %8.0g      HB40       body mass index

. codebook ha40

---------------------------------------------------------------------------------------------------
ha40                                                                                body mass index
---------------------------------------------------------------------------------------------------

                  type:  numeric (int)
                 label:  HA40, but 2001 nonmissing values are not labeled

                 range:  [1372,9998]                  units:  1
         unique values:  2,002                    missing .:  26,548/34,319
       unique mv codes:  2                       missing .*:  206/34,319

              examples:  3200  
                         .     
                         .     
                         .     

. *gen hb40 = .
. 
. foreach var in ha40 hb40 {
  2.                          gen inf_`var' = 1 if `var'!=.
  3.                          bys sex: tab age inf_`var' 
  4.                          drop inf_`var'
  5.                          }
(26,548 missing values generated)

---------------------------------------------------------------------------------------------------
-> sex = male
no observations

---------------------------------------------------------------------------------------------------
-> sex = female

    Age of |
 household |  inf_ha40
    member |         1 |     Total
-----------+-----------+----------
        15 |       330 |       330 
        16 |       313 |       313 
        17 |       287 |       287 
        18 |       282 |       282 
        19 |       241 |       241 
        20 |       315 |       315 
        21 |       240 |       240 
        22 |       294 |       294 
        23 |       270 |       270 
        24 |       236 |       236 
        25 |       253 |       253 
        26 |       238 |       238 
        27 |       230 |       230 
        28 |       275 |       275 
        29 |       236 |       236 
        30 |       330 |       330 
        31 |       165 |       165 
        32 |       256 |       256 
        33 |       230 |       230 
        34 |       206 |       206 
        35 |       216 |       216 
        36 |       208 |       208 
        37 |       217 |       217 
        38 |       208 |       208 
        39 |       186 |       186 
        40 |       256 |       256 
        41 |       109 |       109 
        42 |       211 |       211 
        43 |       168 |       168 
        44 |       130 |       130 
        45 |       183 |       183 
        46 |       108 |       108 
        47 |       119 |       119 
        48 |       127 |       127 
        49 |        98 |        98 
-----------+-----------+----------
     Total |     7,771 |     7,771 

(26,942 missing values generated)

---------------------------------------------------------------------------------------------------
-> sex = male

    Age of |
 household |  inf_hb40
    member |         1 |     Total
-----------+-----------+----------
        15 |       348 |       348 
        16 |       317 |       317 
        17 |       283 |       283 
        18 |       289 |       289 
        19 |       235 |       235 
        20 |       255 |       255 
        21 |       166 |       166 
        22 |       253 |       253 
        23 |       206 |       206 
        24 |       185 |       185 
        25 |       206 |       206 
        26 |       175 |       175 
        27 |       173 |       173 
        28 |       205 |       205 
        29 |       176 |       176 
        30 |       254 |       254 
        31 |       153 |       153 
        32 |       214 |       214 
        33 |       134 |       134 
        34 |       168 |       168 
        35 |       204 |       204 
        36 |       139 |       139 
        37 |       169 |       169 
        38 |       188 |       188 
        39 |       158 |       158 
        40 |       182 |       182 
        41 |       113 |       113 
        42 |       191 |       191 
        43 |       148 |       148 
        44 |       121 |       121 
        45 |       148 |       148 
        46 |        99 |        99 
        47 |       121 |       121 
        48 |       131 |       131 
        49 |        88 |        88 
        50 |       135 |       135 
        51 |        59 |        59 
        52 |       122 |       122 
        53 |        68 |        68 
        54 |        80 |        80 
        55 |        83 |        83 
        56 |        66 |        66 
        57 |        73 |        73 
        58 |        51 |        51 
        59 |        45 |        45 
-----------+-----------+----------
     Total |     7,377 |     7,377 

---------------------------------------------------------------------------------------------------
-> sex = female
no observations


. 
. 
. *** ELIGIBILITY FOR BMI ***
. /*Note: In the Ghana DHS_2022 survey, BMI information was collected from eligible female aged 15-
> 49 years and 
>         eligible male aged 15-59 years. We need to construct the eligibility variables based on g
> iven age range. */
. 
. ** WOMEN
.         //Check the age range for the BMI information
. sum age if ha40!=. & hv104==2

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
         age |      7,771    29.55681     9.61688         15         49

. 
. gen fem_eligible_bmi = 1 if ha13<.
(26,548 missing values generated)

. replace fem_eligible_bmi = 0 if ha13==.
(26,548 real changes made)

. replace fem_eligible_bmi = 0 if age <15 & age>49 & age<.
(0 real changes made)

. bys hh_id: egen hh_n_fem_eligible_bmi = sum(fem_eligible_bmi)   

.         //Number of eligible women for BMI in the hh
. gen no_fem_eligible_bmi = (hh_n_fem_eligible_bmi==0)                                             
>                        

.         //Takes value 1 if the household had no eligible females for an interview
. lab var no_fem_eligible_bmi "Household has no eligible women"

. tab no_fem_eligible_bmi, miss

  Household |
     has no |
   eligible |
      women |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     28,167       82.07       82.07
          1 |      6,152       17.93      100.00
------------+-----------------------------------
      Total |     34,319      100.00

. 
. ** MEN
. //Check the age range for the BMI information
. sum age if hb40!=. & hv104==1

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
         age |      7,377    31.93019    12.13359         15         59

.         /*For the Ghana DHS 2022, men's BMI information collected from 15-59 years age group.*/
. 
. gen male_eligible_bmi = 1 if hb13<.
(26,942 missing values generated)

. replace male_eligible_bmi = 0 if hb13==.
(26,942 real changes made)

. replace male_eligible_bmi = 0 if age <15 & age>59 & age<.
(0 real changes made)

. bys hh_id: egen hh_n_male_eligible_bmi = sum(male_eligible_bmi)  

.         //Number of eligible men for BMI
. gen no_male_eligible_bmi = (hh_n_male_eligible_bmi==0)  

.         //Takes value 1 if the household had no eligible males for an interview
. lab var no_male_eligible_bmi "Household has no eligible man"

. tab no_male_eligible_bmi, miss

  Household |
     has no |
   eligible |
        man |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     24,947       72.69       72.69
          1 |      9,372       27.31      100.00
------------+-----------------------------------
      Total |     34,319      100.00

. 
. *** No Eligible Women and Men for BMI
. ***********************************************
.         /*NOTE: In the DHS datasets, we use this variable as a control 
>         variable for nutrition when anthropometrics is available for women and men */
. gen     no_adults_eligible_bmi = (no_fem_eligible_bmi==1 & no_male_eligible_bmi==1) 

.         //Takes value 1 if the household had no eligible men & women for BMI
. lab var no_adults_eligible_bmi "Household has no eligible women or men"

. tab no_adults_eligible_bmi, miss

  Household |
     has no |
   eligible |
   women or |
        men |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     31,933       93.05       93.05
          1 |      2,386        6.95      100.00
------------+-----------------------------------
      Total |     34,319      100.00

. 
. *** No Eligible Women or Children for BMI
. ***********************************************
.         /*NOTE: In the DHS datasets, we use this variable as a control 
>         variable for the nutrition indicator if nutrition data is 
>         present for children, women and men. */
. gen no_eligibles_bmi = (no_fem_eligible_bmi==1 & no_child_eligible==1 & no_male_eligible_bmi==1 )

. lab var no_eligibles_bmi "Household has no eligible women or children for BMI"

. tab no_eligibles_bmi, miss

  Household |
     has no |
   eligible |
   women or |
   children |
    for BMI |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     32,287       94.08       94.08
          1 |      2,032        5.92      100.00
------------+-----------------------------------
      Total |     34,319      100.00

. 
. 
. *** BMI Indicator for Women 15-49 years ***
. ******************************************************************* 
. 
. gen     f_bmi = ha40/100
(26,754 missing values generated)

.         //Low BMI of women 15-49 years  
. lab var f_bmi "Women's BMI"

. 
. gen     f_low_bmi = (f_bmi<18.5)

. replace f_low_bmi = . if f_bmi==. | f_bmi>=99.90
(26,755 real changes made, 26,755 to missing)

. lab var f_low_bmi "BMI of women < 18.5"

. 
. bysort hh_id: egen low_bmi = max(f_low_bmi)
(6676 missing values generated)

. 
. gen     hh_no_low_bmi = (low_bmi==0)

.         /*Under this section, households take a value of '1' if no women in the 
>         household has low bmi */
.         
. replace hh_no_low_bmi = . if low_bmi==.
(6,676 real changes made, 6,676 to missing)

.         /*Under this section, households take a value of '.' if there is no 
>         information from eligible women*/
. 
. 
. replace hh_no_low_bmi = 1 if no_fem_eligible_bmi==1
(6,152 real changes made)

.         /*Under this section, households that don't have eligible female population 
>         are identified as non-deprived in nutrition. */ 
.         
. drop low_bmi

. lab var hh_no_low_bmi "Household has no women with low BMI"

. 
. tab hh_no_low_bmi, miss

  Household |
     has no |
 women with |
    low BMI |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      3,181        9.27        9.27
          1 |     30,614       89.20       98.47
          . |        524        1.53      100.00
------------+-----------------------------------
      Total |     34,319      100.00

.         /*Figures are exclusively based on information from eligible adult 
>         women (15-49 years) */
. 
. 
. *** BMI Indicator for Men 15-59 years ***
. ******************************************************************* 
. gen     m_bmi = hb40/100
(27,262 missing values generated)

.         //Low BMI of women 15-59 years  
. lab var m_bmi "Men's BMI"

. 
. gen     m_low_bmi = (m_bmi<18.5)

. replace m_low_bmi = . if m_bmi==. | m_bmi>=99.90
(27,263 real changes made, 27,263 to missing)

. lab var m_low_bmi "BMI of men < 18.5"

. 
. bysort hh_id: egen low_bmi_m = max(m_low_bmi)
(10331 missing values generated)

. 
. gen     hh_no_low_bmi_men = (low_bmi_m==0)

.         /*Under this section, households take a value of '1' if no women in the 
>         household has low bmi */
.         
. replace hh_no_low_bmi_men = . if low_bmi_m==.
(10,331 real changes made, 10,331 to missing)

.         /*Under this section, households take a value of '.' if there is no 
>         information from eligible women*/
. 
. replace hh_no_low_bmi_men = 1 if no_male_eligible_bmi==1
(9,372 real changes made)

.         /*Under this section, households that don't have eligible female population 
>         are identified as non-deprived in nutrition. */ 
.         
. drop low_bmi_m

. lab var hh_no_low_bmi_men "Household has no men with low BMI"

. 
. tab hh_no_low_bmi_men, miss

  Household |
 has no men |
   with low |
        BMI |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      4,406       12.84       12.84
          1 |     28,954       84.37       97.21
          . |        959        2.79      100.00
------------+-----------------------------------
      Total |     34,319      100.00

.         /*Figures are exclusively based on information from eligible adult 
>         men (15-59 years) */
. 
.         
. *** BMI-for-age for individuals 15-19 years and BMI for individuals 20-59 years ***
. ******************************************************************* 
. *replace age_month=age_month_boys if age_month_boys<. & age_month==.
. *replace low_bmiage=low_bmiage_boys if low_bmiage_boys<. & low_bmiage==.
. 
. gen low_bmi_byage = 0

. lab var low_bmi_byage "Individuals with low BMI or BMI-for-age"

. 
. replace low_bmi_byage = 1 if f_low_bmi==1
(575 real changes made)

.         //Replace variable "low_bmi_byage = 1" if eligible women have low BMI
. 
.         
.         /*Note: The following command will result in 0 changes when there is no BMI 
>         information from men*/
.         
. replace low_bmi_byage = 1 if low_bmi_byage==0 & m_low_bmi==1 
(915 real changes made)

.         //Replace variable "low_bmi_byage = 1" if eligible men have low BMI
.         
.         
.         /*Note: The following command replaces BMI with BMI-for-age for those 
>         between the age group of 15-19 by their age in months where information is 
>         available */
.         
. //Replacement for girls: 
. replace low_bmi_byage = 1 if low_bmiage==1 & age_month!=.
(0 real changes made)

. replace low_bmi_byage = 0 if low_bmiage==0 & age_month!=.
(206 real changes made)

. 
.                 //Replacements for boys:
. replace low_bmi_byage = 1 if low_bmiage_boys==1 & age_month_b!=.
(0 real changes made)

. replace low_bmi_byage = 0 if low_bmiage_boys==0 & age_month_b!=.
(355 real changes made)

.         
.         
.         /*Note: The following control variable is applied when there is BMI 
>         information for women and men, as well as BMI-for-age for teenagers */
. replace low_bmi_byage = . if f_low_bmi==. & low_bmiage==. & m_low_bmi==. & low_bmiage_boys==.
(19,699 real changes made, 19,699 to missing)

. 
.                 
. bysort hh_id: egen low_bmi = max(low_bmi_byage)
(2696 missing values generated)

. 
. gen     hh_no_low_bmiage = (low_bmi==0)

.         /*Households take a value of '1' if all eligible adults and teenagers in the 
>         household has normal bmi or bmi-for-age */
.         
. replace hh_no_low_bmiage = . if low_bmi==.
(2,696 real changes made, 2,696 to missing)

.         /*Households take a value of '.' if there is no information from eligible 
>         individuals in the household */
.         
. replace hh_no_low_bmiage = 1 if no_fem_eligible_bmi==1 & no_male_eligible_bmi==1
(2,386 real changes made)

.         /*Households take a value of '1' if there is no eligible population.*/
. 
. 
. drop low_bmi

. lab var hh_no_low_bmiage "Household has no adult with low BMI or BMI-for-age"

. 
. tab hh_no_low_bmi if subsample==1, m    

  Household |
     has no |
 women with |
    low BMI |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      3,181        9.27        9.27
          1 |     30,614       89.20       98.47
          . |        524        1.53      100.00
------------+-----------------------------------
      Total |     34,319      100.00

. tab hh_no_low_bmiage if subsample==1, m

  Household |
     has no |
 adult with |
 low BMI or |
BMI-for-age |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      4,231       12.33       12.33
          1 |     29,778       86.77       99.10
          . |        310        0.90      100.00
------------+-----------------------------------
      Total |     34,319      100.00

. 
.         /*NOTE that hh_no_low_bmi takes value 1 if: (a) no any eligible adult in the 
>         household has (observed) low BMI or (b) there are no eligible adults in the 
>         household. One has to check and adjust the dofile so all people who are 
>         eligible and/or measured are included. It is particularly important to check 
>         if male are measured and what age group among males and females. The 
>         variable takes values 0 for those households that have at least one adult 
>         with observed low BMI. The variable has a missing value only when there is 
>         missing info on BMI for ALL eligible adults in the household */
. 
. ********************************************************************************
. *** Step 2.3b Child Nutrition ***
. ********************************************************************************
. 
. *** Child Underweight Indicator ***
. ************************************************************************
. 
. bysort hh_id: egen temp = max(underweight)
(14971 missing values generated)

. gen     hh_no_underweight = (temp==0) 

.         //Takes value 1 if no child in the hh is underweight 
. replace hh_no_underweight = . if temp==.
(14,971 real changes made, 14,971 to missing)

. replace hh_no_underweight = 1 if no_child_eligible==1 
(14,674 real changes made)

.         /* Households with no eligible children will receive a value of 1 */
. lab var hh_no_underweight "Household has no child underweight - 2 stdev"

. drop temp

. 
. 
. *** Child Stunting Indicator ***
. ************************************************************************
. 
. bysort hh_id: egen temp = max(stunting)
(14994 missing values generated)

. gen     hh_no_stunting = (temp==0) 

.         //Takes value 1 if no child in the hh is stunted
. replace hh_no_stunting = . if temp==.
(14,994 real changes made, 14,994 to missing)

. replace hh_no_stunting = 1 if no_child_eligible==1 
(14,674 real changes made)

. lab var hh_no_stunting "Household has no child stunted - 2 stdev"

. drop temp

. 
. 
. *** Child Either Stunted or Underweight Indicator ***
. ************************************************************************
. 
. gen uw_st = 1 if stunting==1 | underweight==1
(33,200 missing values generated)

. replace uw_st = 0 if stunting==0 & underweight==0
(3,774 real changes made)

. replace uw_st = . if stunting==. & underweight==.
(0 real changes made)

. 
. bysort hh_id: egen temp = max(uw_st)
(14980 missing values generated)

. gen     hh_no_uw_st = (temp==0) 

.         //Takes value 1 if no child in the hh is underweight or stunted
. replace hh_no_uw_st = . if temp==.
(14,980 real changes made, 14,980 to missing)

. replace hh_no_uw_st = 1 if no_child_eligible==1
(14,674 real changes made)

.         //Households with no eligible children will receive a value of 1 
. lab var hh_no_uw_st "Household has no child underweight or stunted"

. drop temp

. 
. 
. 
. ********************************************************************************
. *** Step 2.3c Household Nutrition Indicator ***
. ********************************************************************************
. 
. gen hh_nutrition_uw_st = 1 if (hh_no_low_bmiage==1 & hh_no_uw_st==1) | (hh_no_low_bmiage==. & hh_
> no_uw_st==1 & no_child_eligible==0) | (hh_no_low_bmiage==1 & hh_no_uw_st==. & no_adults_eligible_
> bmi==0)
(9,380 missing values generated)

. replace hh_nutrition_uw_st = 0 if hh_no_low_bmiage==0 | hh_no_uw_st==0
(9,090 real changes made)

. replace hh_nutrition_uw_st = . if hh_no_low_bmiage==. & hh_no_uw_st==.
(0 real changes made)

. replace hh_nutrition_uw_st = 1 if no_eligibles_bmi==1
(0 real changes made)

. /*If country have collected anthropometric data from women, 
>         child 0-5 & a subsample of men, we only replace households which do not have 
>         any of these three applicable population as non-deprived*/
. lab var hh_nutrition_uw_st "Household has no child underweight/stunted or adult deprived by BMI/B
> MI-for-age"

. 
. 
. ********************************************************************************
. *** Step 2.4 Child Mortality ***
. ********************************************************************************
. 
. codebook v206 v207 mv206 mv207

---------------------------------------------------------------------------------------------------
v206                                                                             sons who have died
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)

                 range:  [0,4]                        units:  1
         unique values:  5                        missing .:  26,793/34,319

            tabulation:  Freq.  Value
                         6,995  0
                           462  1
                            58  2
                            10  3
                             1  4
                        26,793  .

---------------------------------------------------------------------------------------------------
v207                                                                        daughters who have died
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)

                 range:  [0,5]                        units:  1
         unique values:  6                        missing .:  26,793/34,319

            tabulation:  Freq.  Value
                         7,080  0
                           393  1
                            46  2
                             4  3
                             2  4
                             1  5
                        26,793  .

---------------------------------------------------------------------------------------------------
mv206                                                                            sons who have died
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)

                 range:  [0,5]                        units:  1
         unique values:  6                        missing .:  27,327/34,319

            tabulation:  Freq.  Value
                         6,464  0
                           407  1
                            93  2
                            19  3
                             6  4
                             3  5
                        27,327  .

---------------------------------------------------------------------------------------------------
mv207                                                                       daughters who have died
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)

                 range:  [0,4]                        units:  1
         unique values:  5                        missing .:  27,327/34,319

            tabulation:  Freq.  Value
                         6,584  0
                           347  1
                            45  2
                            13  3
                             3  4
                        27,327  .

.         //v206 or mv206: number of sons who have died 
.         //v207 or mv207: number of daughters who have died
.         
. 
.         //Total child mortality reported by eligible women
. egen temp_f = rowtotal(v206 v207), missing
(26793 missing values generated)

. replace temp_f = 0 if v201==0
(0 real changes made)

. bysort  hh_id: egen child_mortality_f = sum(temp_f), missing
(6715 missing values generated)

. lab var child_mortality_f "Occurrence of child mortality reported by women"

. tab child_mortality_f, miss

 Occurrence |
   of child |
  mortality |
reported by |
      women |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     22,772       66.35       66.35
          1 |      3,674       10.71       77.06
          2 |        829        2.42       79.47
          3 |        240        0.70       80.17
          4 |         59        0.17       80.35
          5 |         30        0.09       80.43
          . |      6,715       19.57      100.00
------------+-----------------------------------
      Total |     34,319      100.00

. drop temp_f

.         
.         //Total child mortality reported by eligible men        
. egen temp_m = rowtotal(mv206 mv207), missing
(27327 missing values generated)

. replace temp_m = 0 if mv201==0
(0 real changes made)

. bysort  hh_id: egen child_mortality_m = sum(temp_m), missing
(10405 missing values generated)

. lab var child_mortality_m "Occurrence of child mortality reported by men"

. tab child_mortality_m, miss

 Occurrence |
   of child |
  mortality |
reported by |
        men |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     19,728       57.48       57.48
          1 |      2,821        8.22       65.70
          2 |        796        2.32       68.02
          3 |        313        0.91       68.94
          4 |        148        0.43       69.37
          5 |         64        0.19       69.55
          6 |         27        0.08       69.63
          7 |         17        0.05       69.68
          . |     10,405       30.32      100.00
------------+-----------------------------------
      Total |     34,319      100.00

. drop temp_m

. 
. egen child_mortality = rowmax(child_mortality_f child_mortality_m)
(2690 missing values generated)

. lab var child_mortality "Total child mortality within household reported by women & men"

. tab child_mortality if subsample==1, miss       

Total child |
  mortality |
     within |
  household |
reported by |
women & men |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     24,472       71.31       71.31
          1 |      5,006       14.59       85.89
          2 |      1,355        3.95       89.84
          3 |        484        1.41       91.25
          4 |        187        0.54       91.80
          5 |         81        0.24       92.03
          6 |         27        0.08       92.11
          7 |         17        0.05       92.16
          . |      2,690        7.84      100.00
------------+-----------------------------------
      Total |     34,319      100.00

.         
. /*
> /*Deprived if any children died in the household */
> ************************************************************************
> 
> gen     hh_mortality = (child_mortality==0)
>         /*Household is replaced with a value of "1" if there is no incidence of 
>         child mortality*/
> replace hh_mortality = . if child_mortality==.
> 
> replace hh_mortality = 1 if no_adults_eligible==1 
>         /*Change eligibility to "no_fem_eligible==1" if child mortality indicator 
>         is constructed solely using information from women */
>         
> lab var hh_mortality "Household had no child mortality"
> tab hh_mortality if subsample==1, miss
> */
. 
. /*Deprived if any children died in the household in the last 5 years 
> from the survey year */
. ************************************************************************
. 
. tab child_died_per_wom_5y, miss

Total child |
  death for |
 each women |
in the last |
    5 years |
     (birth |
    recode) |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      5,028       14.65       14.65
          1 |        197        0.57       15.22
          2 |         17        0.05       15.27
          . |     29,077       84.73      100.00
------------+-----------------------------------
      Total |     34,319      100.00

.         /* The 'child_died_per_wom_5y' variable was constructed in Step 1.2 using 
>         information from individual women who ever gave birth in the BR file. The 
>         missing values represent eligible woman who have never ever given birth and 
>         so are not present in the BR file. But these 'missing women' may be living 
>         in households where there are other women with child mortality information 
>         from the BR file. So at this stage, it is important that we aggregate the 
>         information that was obtained from the BR file at the household level. This
>         ensures that women who were not present in the BR file is assigned with a 
>         value, following the information provided by other women in the household.*/
. 
. replace child_died_per_wom_5y = 0 if v201==0 
(2,284 real changes made)

.         /*Assign a value of "0" for:
>         - all eligible women who never ever gave birth */
. replace child_died_per_wom_5y = 0 if no_fem_eligible==1 
(6,384 real changes made)

.         /*Assign a value of "0" for:
>         - individuals living in households that have non-eligible women */      
.         
. bysort hh_id: egen child_mortality_5y = sum(child_died_per_wom_5y), missing
(331 missing values generated)

. 
. replace child_mortality_5y = 0 if child_mortality_5y==. & child_mortality==0
(181 real changes made)

.         /*Replace all households as 0 death if women has missing value and men 
>         reported no death in those households */
. 
. label var child_mortality_5y "Total child mortality within household past 5 years reported by wom
> en"

. tab child_mortality_5y if subsample==1, miss

Total child |
  mortality |
     within |
  household |
     past 5 |
      years |
reported by |
      women |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     32,981       96.10       96.10
          1 |      1,083        3.16       99.26
          2 |         92        0.27       99.53
          3 |         13        0.04       99.56
          . |        150        0.44      100.00
------------+-----------------------------------
      Total |     34,319      100.00

. 
.         /*
>         The new standard MPI indicator takes a value of "1" if eligible women  
>         within the household reported no child mortality or if any child died longer 
>         than 5 years from the survey year. The indicator takes a value of "0" if 
>         women in the household reported any child mortality in the last 5 years from 
>         the survey year. Households were replaced with a value of "1" if eligible 
>         men within the household reported no child mortality in the absence of 
>         information from women. The indicator takes a missing value if there was 
>         missing information on reported death from eligible individuals.
>         */
. 
. gen hh_mortality_5y = (child_mortality_5y==0)

. replace hh_mortality_5y = . if child_mortality_5y==.
(150 real changes made, 150 to missing)

. tab hh_mortality_5y if subsample==1, miss       

hh_mortalit |
       y_5y |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      1,188        3.46        3.46
          1 |     32,981       96.10       99.56
          . |        150        0.44      100.00
------------+-----------------------------------
      Total |     34,319      100.00

. lab var hh_mortality_5y "Household had no child mortality in the last 5 years"

. 
. 
. 
. ********************************************************************************
. *** Step 2.5 Electricity ***
. ********************************************************************************
. /*Members of the household are considered deprived if the household has no 
> electricity */
. 
. clonevar electricity = hv206 

. codebook electricity, tab (10)

---------------------------------------------------------------------------------------------------
electricity                                                                         has electricity
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV206

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                         7,551         0  no
                        26,768         1  yes

. label var electricity "Household has electricity"

. 
. 
. ********************************************************************************
. *** Step 2.6 Sanitation ***
. ********************************************************************************
. 
. /*Members of the household are considered deprived if the household's sanitation 
> facility is not improved, according to MDG guidelines, or it is improved but 
> shared with other household. In cases of mismatch between the MDG guideline and 
> country report, we followed the country report. */
. 
. clonevar toilet = hv205  

. codebook toilet, tab(30) 

---------------------------------------------------------------------------------------------------
toilet                                                                      type of toilet facility
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV205

                 range:  [11,96]                      units:  1
         unique values:  14                       missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                           240        11  flush to piped sewer system
                         4,755        12  flush to septic tank
                           767        13  flush to pit latrine
                            12        14  flush to somewhere else
                             9        15  flush, don't know where
                           585        16  flush, bio-digester (biofil)
                         5,008        21  ventilated improved pit latrine
                                          (vip)
                         5,702        22  pit latrine with slab
                         4,791        23  pit latrine without slab/open
                                          pit
                        12,320        31  no facility/bush/field
                            31        41  composting toilet
                             2        42  bucket toilet
                            37        43  hanging toilet/latrine
                            60        96  other

. codebook hv225, tab(30)  

---------------------------------------------------------------------------------------------------
hv225                                                            share toilet with other households
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV225

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  12,320/34,319

            tabulation:  Freq.   Numeric  Label
                         8,659         0  no
                        13,340         1  yes
                        12,320         .  

. clonevar shared_toilet = hv225 
(12,320 missing values generated)

.         //0=no;1=yes;.=missing
. 
. gen toilet_mdg = 1 if (toilet==11 | toilet==12 | toilet==13 | toilet==15 | toilet==16 | toilet==2
> 1 | toilet==22 | toilet==41 | toilet==44)
(17,222 missing values generated)

. replace toilet_mdg = 0 if toilet==14 | toilet==23 | toilet==31 | toilet==42 | toilet==43 | toilet
> ==96
(17,222 real changes made)

. replace toilet_mdg = 0 if shared_toilet==1 
(10,315 real changes made)

. replace toilet_mdg = . if toilet==.  | toilet==99
(0 real changes made)

. lab var toilet_mdg "Household has improved sanitation with MDG Standards"

. tab toilet toilet_mdg, miss

                      |     Household has
                      |  improved sanitation
       type of toilet |  with MDG Standards
             facility |         0          1 |     Total
----------------------+----------------------+----------
flush to piped sewer  |        54        186 |       240 
 flush to septic tank |     1,769      2,986 |     4,755 
 flush to pit latrine |       457        310 |       767 
flush to somewhere el |        12          0 |        12 
flush, don't know whe |         9          0 |         9 
flush, bio-digester ( |       136        449 |       585 
ventilated improved p |     3,967      1,041 |     5,008 
pit latrine with slab |     3,907      1,795 |     5,702 
pit latrine without s |     4,791          0 |     4,791 
no facility/bush/fiel |    12,320          0 |    12,320 
    composting toilet |        16         15 |        31 
        bucket toilet |         2          0 |         2 
hanging toilet/latrin |        37          0 |        37 
                other |        60          0 |        60 
----------------------+----------------------+----------
                Total |    27,537      6,782 |    34,319 

. 
. /*
> . tab toilet, m
> 
>               type of toilet facility |      Freq.     Percent        Cum.
> --------------------------------------+-----------------------------------
>           flush to piped sewer system |        452        0.66        0.66 11 y
>                  flush to septic tank |      9,493       13.78       14.44 12 y
>                  flush to pit latrine |      1,674        2.43       16.87 13 y
>               flush to somewhere else |         27        0.04       16.91 14 n
>               flush, don't know where |         19        0.03       16.93 15 y
>          flush, bio-digester (biofil) |      1,211        1.76       18.69 16 y
> ventilated improved pit latrine (vip) |     10,461       15.19       33.88 21 y
>                 pit latrine with slab |     11,961       17.36       51.24 22 y
>     pit latrine without slab/open pit |      9,192       13.34       64.58 23 n
>                no facility/bush/field |     24,110       35.00       99.58 31 n
>                     composting toilet |         85        0.12       99.71 41 y
>                         bucket toilet |          9        0.01       99.72 42 n
>                hanging toilet/latrine |         86        0.12       99.84 43 n
>                                 other |        107        0.16      100.00 96 n
> --------------------------------------+-----------------------------------
>                                 Total |     68,887      100.00 */
. 
. 
. 
. ********************************************************************************
. *** Step 2.7 Drinking Water  ***
. ********************************************************************************
. 
. /*Members of the household are considered deprived if the household does not 
> have access to safe drinking water according to MDG guidelines, or safe drinking 
> water is more than a 30-minute walk from home roundtrip. In cases of mismatch 
> between the MDG guideline and country report, we followed the country report.*/
. 
. 
. clonevar water = hv201  

. clonevar timetowater = hv204  

. codebook water, tab(100)        

---------------------------------------------------------------------------------------------------
water                                                                      source of drinking water
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV201

                 range:  [11,72]                      units:  1
         unique values:  15                       missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                           895        11  piped into dwelling
                         1,670        12  piped to yard/plot
                         1,273        13  piped to neighbor
                         4,807        14  public tap/standpipe
                         9,957        21  tube well or borehole
                         1,741        31  protected well
                         1,441        32  unprotected well
                            52        41  protected spring
                           316        42  unprotected spring
                         4,367        43  river/dam/lake/ponds/stream/cana
                                          l/irrigation channel
                           161        51  rainwater
                            46        61  tanker truck
                            11        62  cart with small tank
                           223        71  bottled water
                         7,359        72  sachet water

. clonevar ndwater = hv202
(26,737 missing values generated)

. 
. /*
> 
> tab water, m
> 
>                source of drinking water |      Freq.     Percent        Cum.
> ----------------------------------------+-----------------------------------
>                     piped into dwelling |      1,755        2.55        2.55 11 y
>                      piped to yard/plot |      3,316        4.81        7.36 12 y
>                       piped to neighbor |      2,732        3.97       11.33 13 y
>                    public tap/standpipe |      9,613       13.95       25.28 14 y
>                   tube well or borehole |     19,982       29.01       54.29 21 y
>                          protected well |      3,711        5.39       59.68 31 y
>                        unprotected well |      2,669        3.87       63.55 32 n
>                        protected spring |         90        0.13       63.68 41 y
>                      unprotected spring |        730        1.06       64.74 42 n
> river/dam/lake/ponds/stream/canal/irrig |      8,563       12.43       77.17 43 n
>                               rainwater |        428        0.62       77.79 51 y
>                            tanker truck |        122        0.18       77.97 61 y
>                    cart with small tank |         17        0.02       77.99 62 y
>                           bottled water |        552        0.80       78.80 71 y
>                            sachet water |     14,607       21.20      100.00 72 y
> ----------------------------------------+-----------------------------------
>                                   Total |     68,887      100.00 */
. 
. gen water_mdg = 1 if water==11 | water==12 | water==13 | water==14 |  water==15 | water==16 |  wa
> ter==21 | water==22| water==31 | water==41 | water==51 | water==61 | water==62 | water==71 | wate
> r==72| water==82
(6,124 missing values generated)

. replace water_mdg = 0 if water==32 | water==42 | water==43 | water==96 
(6,124 real changes made)

. replace water_mdg = 0 if (water_mdg==1 | water_mdg==.) & timetowater >= 30 & timetowater!=. & tim
> etowater!=996 & timetowater!=998 & timetowater!=999 
(4,274 real changes made)

.         //Deprived if water is at more than 30 minutes' walk (roundtrip) 
. 
. 
. replace water_mdg = . if water==. | water==99
(0 real changes made)

. lab var water_mdg "Household has drinking water with MDG standards (considering distance)"

. tab water water_mdg, miss

                      |     Household has
                      |  drinking water with
                      |     MDG standards
                      |     (considering
   source of drinking |       distance)
                water |         0          1 |     Total
----------------------+----------------------+----------
  piped into dwelling |         0        895 |       895 
   piped to yard/plot |         0      1,670 |     1,670 
    piped to neighbor |         0      1,273 |     1,273 
 public tap/standpipe |       872      3,935 |     4,807 
tube well or borehole |     2,773      7,184 |     9,957 
       protected well |       237      1,504 |     1,741 
     unprotected well |     1,441          0 |     1,441 
     protected spring |         0         52 |        52 
   unprotected spring |       316          0 |       316 
river/dam/lake/ponds/ |     4,367          0 |     4,367 
            rainwater |         2        159 |       161 
         tanker truck |        27         19 |        46 
 cart with small tank |         9          2 |        11 
        bottled water |         2        221 |       223 
         sachet water |       352      7,007 |     7,359 
----------------------+----------------------+----------
                Total |    10,398     23,921 |    34,319 

. 
. 
. ********************************************************************************
. *** Step 2.8 Housing ***
. ********************************************************************************
. 
. /* Members of the household are considered deprived if the household 
> has a dirt, sand or dung floor */
. 
. clonevar floor = hv213 

. codebook floor, tab(99)

---------------------------------------------------------------------------------------------------
floor                                                                           main floor material
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV213

                 range:  [11,36]                      units:  1
         unique values:  10                       missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                         4,101        11  earth/sand
                           241        12  dung
                            42        21  wood planks
                             5        22  palm/bamboo
                            42        31  parquet or polished wood
                            30        32  vinyl or asphalt strips
                         3,753        33  ceramic/marble/porcelain/tiles/t
                                          errazo
                        23,372        34  cement
                         1,202        35  woolen carpet/synthetic carpet
                         1,531        36  linoleum/rubber carpet

. gen     floor_imp = 1

. replace floor_imp = 0 if floor==11 | floor==12 | floor==96  
(4,342 real changes made)

.         //Deprived if "mud/earth", "sand", "dung", "other"      
. replace floor_imp = . if floor==. | floor==99 
(0 real changes made)

. lab var floor_imp "Household has floor that it is not earth/sand/dung"

. tab floor floor_imp, miss               

                      |  Household has floor
                      |    that it is not
                      |    earth/sand/dung
  main floor material |         0          1 |     Total
----------------------+----------------------+----------
           earth/sand |     4,101          0 |     4,101 
                 dung |       241          0 |       241 
          wood planks |         0         42 |        42 
          palm/bamboo |         0          5 |         5 
parquet or polished w |         0         42 |        42 
vinyl or asphalt stri |         0         30 |        30 
ceramic/marble/porcel |         0      3,753 |     3,753 
               cement |         0     23,372 |    23,372 
woolen carpet/synthet |         0      1,202 |     1,202 
linoleum/rubber carpe |         0      1,531 |     1,531 
----------------------+----------------------+----------
                Total |     4,342     29,977 |    34,319 

. 
. 
. 
. /* Members of the household are considered deprived if the household has wall 
> made of natural or rudimentary materials */
. clonevar wall = hv214 

. codebook wall, tab(99)  

---------------------------------------------------------------------------------------------------
wall                                                                             main wall material
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV214

                 range:  [11,96]                      units:  1
         unique values:  16                       missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                         2,362        11  no walls
                           159        12  cane/palm/trunks
                         1,742        13  dirt
                           745        21  bamboo with mud
                         4,125        22  stone with mud
                             2        23  uncovered adobe
                           112        24  plywood
                            27        25  cardboard
                            87        26  reused wood
                        20,153        31  cement
                           120        32  stone with lime/cement
                         1,374        33  bricks
                         2,495        34  cement blocks
                           336        35  covered adobe
                           135        36  wood planks/shingles
                           345        96  other

. gen     wall_imp = 1 

. replace wall_imp = 0 if wall<=30 | wall==96  
(9,706 real changes made)

.         /*Deprived if "no wall" "cane/palms/trunk" "mud/dirt" 
>         "grass/reeds/thatch" "pole/bamboo with mud" "stone with mud" "plywood"
>         "cardboard" "carton/plastic" "uncovered adobe" "canvas/tent" 
>         "unburnt bricks" "reused wood" "other"*/
. replace wall_imp = . if wall==. | wall==99      
(0 real changes made)

. lab var wall_imp "Household has wall that it is not of low quality materials"

. tab wall wall_imp, miss 

                      |  Household has wall
                      | that it is not of low
                      |   quality materials
   main wall material |         0          1 |     Total
----------------------+----------------------+----------
             no walls |     2,362          0 |     2,362 
     cane/palm/trunks |       159          0 |       159 
                 dirt |     1,742          0 |     1,742 
      bamboo with mud |       745          0 |       745 
       stone with mud |     4,125          0 |     4,125 
      uncovered adobe |         2          0 |         2 
              plywood |       112          0 |       112 
            cardboard |        27          0 |        27 
          reused wood |        87          0 |        87 
               cement |         0     20,153 |    20,153 
stone with lime/cemen |         0        120 |       120 
               bricks |         0      1,374 |     1,374 
        cement blocks |         0      2,495 |     2,495 
        covered adobe |         0        336 |       336 
 wood planks/shingles |         0        135 |       135 
                other |       345          0 |       345 
----------------------+----------------------+----------
                Total |     9,706     24,613 |    34,319 

.         
. 
.         
. /* Members of the household are considered deprived if the household has roof 
> made of natural or rudimentary materials */
. clonevar roof = hv215

. codebook roof, tab(99)          

---------------------------------------------------------------------------------------------------
roof                                                                             main roof material
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV215

                 range:  [11,96]                      units:  1
         unique values:  13                       missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                           535        11  no roof
                         1,624        12  thatch/palm leaf
                             1        13  sod
                           143        21  rustic mat
                            59        22  palm/bamboo
                            28        23  wood planks
                        29,719        31  zinc/aluminum
                            66        32  wood
                            31        33  ceramic tiles
                           323        34  cement
                            93        35  roofing shingles
                         1,570        36  asbestos/slate roofing sheets
                           127        96  other

. gen     roof_imp = 1 

. replace roof_imp = 0 if roof<=24 | roof==96  
(2,517 real changes made)

.         /*Deprived if "no roof" "thatch/palm leaf" "mud/earth/lump of earth" 
>         "sod/grass" "plastic/polythene sheeting" "rustic mat" "cardboard" 
>         "canvas/tent" "wood planks/reused wood" "unburnt bricks" "other"*/
. replace roof_imp = . if roof==. | roof==99      
(0 real changes made)

. lab var roof_imp "Household has roof that it is not of low quality materials"

. tab roof roof_imp, miss

                      |  Household has roof
                      | that it is not of low
                      |   quality materials
   main roof material |         0          1 |     Total
----------------------+----------------------+----------
              no roof |       535          0 |       535 
     thatch/palm leaf |     1,624          0 |     1,624 
                  sod |         1          0 |         1 
           rustic mat |       143          0 |       143 
          palm/bamboo |        59          0 |        59 
          wood planks |        28          0 |        28 
        zinc/aluminum |         0     29,719 |    29,719 
                 wood |         0         66 |        66 
        ceramic tiles |         0         31 |        31 
               cement |         0        323 |       323 
     roofing shingles |         0         93 |        93 
asbestos/slate roofin |         0      1,570 |     1,570 
                other |       127          0 |       127 
----------------------+----------------------+----------
                Total |     2,517     31,802 |    34,319 

. 
. 
. 
. /*Household is deprived in housing if the roof, floor OR walls uses 
> low quality materials.*/
. gen housing_1 = 1

. replace housing_1 = 0 if floor_imp==0 | wall_imp==0 | roof_imp==0
(11,897 real changes made)

. replace housing_1 = . if floor_imp==. & wall_imp==. & roof_imp==.
(0 real changes made)

. lab var housing_1 "Household has roof, floor & walls that it is not low quality material"

. tab housing_1, miss

  Household |
  has roof, |
    floor & |
 walls that |
  it is not |
low quality |
   material |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     11,897       34.67       34.67
          1 |     22,422       65.33      100.00
------------+-----------------------------------
      Total |     34,319      100.00

. 
. 
. ********************************************************************************
. *** Step 2.9 Cooking Fuel ***
. ********************************************************************************
. 
. /* Members of the household are considered deprived if the household cooks with 
> solid fuels: wood, charcoal, crop residues or dung. "Indicators for Monitoring 
> the Millennium Development Goals", p. 63 */
. 
. clonevar cookingfuel = hv226  

. codebook cookingfuel, tab(99)

---------------------------------------------------------------------------------------------------
cookingfuel                                                                    type of cooking fuel
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV226

                 range:  [1,95]                       units:  1
         unique values:  17                       missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                           214         1  electricity
                             7         2  solar energy
                         4,718         3  liquefied petroleum gas
                                          (lpg)/cooking gas
                            17         4  piped natural gas
                            38         5  biogas
                             6         6  alcohol/ethanol
                             3         7  gasoline/diesel
                             1         8  kerosene/paraffin
                            21         9  coal/lignite
                         8,384        10  charcoal
                        20,353        11  wood
                           155        12  straw/shrubs/grass
                            59        13  agricultural crop
                             6        14  animal dung/waste
                             3        15  processed biomass (pellets) or
                                          woodchips
                            10        17  sawdust
                           324        95  no food cooked in house

. 
. 
. gen cooking_mdg = 1 if cookingfuel<=8 | cookingfuel==95 | cookingfuel==96 
(28,991 missing values generated)

. replace cooking_mdg = 0 if (cookingfuel>8 & cookingfuel<=17)
(28,991 real changes made)

. replace cooking_mdg = . if cookingfuel==. | cookingfuel==99
(0 real changes made)

. lab var cooking_mdg "Househod has cooking fuel according to MDG standards"

.                          
. tab cookingfuel cooking_mdg, miss       

                      | Househod has cooking
                      | fuel according to MDG
                      |       standards
 type of cooking fuel |         0          1 |     Total
----------------------+----------------------+----------
          electricity |         0        214 |       214 
         solar energy |         0          7 |         7 
liquefied petroleum g |         0      4,718 |     4,718 
    piped natural gas |         0         17 |        17 
               biogas |         0         38 |        38 
      alcohol/ethanol |         0          6 |         6 
      gasoline/diesel |         0          3 |         3 
    kerosene/paraffin |         0          1 |         1 
         coal/lignite |        21          0 |        21 
             charcoal |     8,384          0 |     8,384 
                 wood |    20,353          0 |    20,353 
   straw/shrubs/grass |       155          0 |       155 
    agricultural crop |        59          0 |        59 
    animal dung/waste |         6          0 |         6 
processed biomass (pe |         3          0 |         3 
              sawdust |        10          0 |        10 
no food cooked in hou |         0        324 |       324 
----------------------+----------------------+----------
                Total |    28,991      5,328 |    34,319 

. 
. 
. ********************************************************************************
. *** Step 2.10 Assets ownership ***
. ********************************************************************************
. 
. /* Members of the household are considered deprived if the household does not 
> own more than one of: radio, TV, telephone, bike, motorbike or refrigerator and 
> does not own a car or truck. */
. 
.         //Check that for standard assets in living standards: "no"==0 and yes=="1"
. codebook hv208 hv207 hv221 hv243a hv209 hv212 hv210 hv211 hv243c hv243e

---------------------------------------------------------------------------------------------------
hv208                                                                                has television
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV208

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                        14,159         0  no
                        20,160         1  yes

---------------------------------------------------------------------------------------------------
hv207                                                                                     has radio
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV207

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                        16,933         0  no
                        17,386         1  yes

---------------------------------------------------------------------------------------------------
hv221                                                                     has telephone (land-line)
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV221

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                        34,074         0  no
                           245         1  yes

---------------------------------------------------------------------------------------------------
hv243a                                                                         has mobile telephone
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV243A

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                         1,691         0  no
                        32,628         1  yes

---------------------------------------------------------------------------------------------------
hv209                                                                              has refrigerator
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV209

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                        23,257         0  no
                        11,062         1  yes

---------------------------------------------------------------------------------------------------
hv212                                                                                 has car/truck
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV212

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                        31,614         0  no
                         2,705         1  yes

---------------------------------------------------------------------------------------------------
hv210                                                                                   has bicycle
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV210

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                        22,110         0  no
                        12,209         1  yes

---------------------------------------------------------------------------------------------------
hv211                                                                        has motorcycle/scooter
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV211

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                        23,018         0  no
                        11,301         1  yes

---------------------------------------------------------------------------------------------------
hv243c                                                                        has animal-drawn cart
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV243C

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                        33,656         0  no
                           663         1  yes

---------------------------------------------------------------------------------------------------
hv243e                                                                               has a computer
---------------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  HV243E

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  0/34,319

            tabulation:  Freq.   Numeric  Label
                        30,314         0  no
                         4,005         1  yes

. 
. lookfor tv television plasma lcd tl tele

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
hv208           byte    %8.0g      HV208      has television
hv221           byte    %8.0g      HV221      has telephone (land-line)
hv243a          byte    %8.0g      HV243A     has mobile telephone

. clonevar television = hv208 

. 
. lookfor radio walkman stereo stro

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
hv207           byte    %8.0g      HV207      has radio

. clonevar radio = hv207 

. 
. lookfor telephone tlphone mobilephone ipod telefone tele celular

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
hv208           byte    %8.0g      HV208      has television
hv221           byte    %8.0g      HV221      has telephone (land-line)
hv243a          byte    %8.0g      HV243A     has mobile telephone
television      byte    %8.0g      HV208      has television

. gen telephone =  hv221

. clonevar mobiletelephone = hv243a  

. 
. lookfor refrigerator rfrigrateur refri freezer

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
hv209           byte    %8.0g      HV209      has refrigerator
sh132g          byte    %8.0g      SH132G     has freezer

. clonevar refrigerator = hv209 

. clonevar freezer=sh132g

. 
. lookfor car van truck

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
hv212           byte    %8.0g      HV212      has car/truck
hv243c          byte    %8.0g      HV243C     has animal-drawn cart
ha51            byte    %8.0g      HA51       line number of parent/caretaker
hc51            byte    %8.0g      HC51       line number of parent/caretaker
hb51            byte    %8.0g      HB51       na - line number of parent/caretaker
hml30           byte    %8.0g      HML30      line number of parent/caretaker (for malaria testing)

. clonevar car = hv212    

. 
. lookfor bicycle cycle bicyclette bicicleta                                                       
>        

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
hv210           byte    %8.0g      HV210      has bicycle
hv211           byte    %8.0g      HV211      has motorcycle/scooter

. clonevar bicycle = hv210 

. 
. lookfor mbike moto

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
hv211           byte    %8.0g      HV211      has motorcycle/scooter
hv243d          byte    %8.0g      HV243D     has boat with a motor
sh133h          byte    %8.0g      SH133H     has boat without motor

. clonevar motorbike = hv211 

. 
. lookfor computer ordinateur laptop ipad tablet                                                  

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
hv237h          byte    %8.0g      HV237H     water usually treated by: purification tablet
hv243e          byte    %8.0g      HV243E     has a computer

. clonevar computer = hv243e

. 
. lookfor brouette cart carro carreta

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
hv243c          byte    %8.0g      HV243C     has animal-drawn cart

. clonevar animal_cart = hv243c

. 
. foreach var in television radio telephone mobiletelephone refrigerator freezer ///
>                            car bicycle motorbike computer  animal_cart {
  2. replace `var' = . if `var'==9 | `var'==99 | `var'==8 | `var'==98 
  3. }
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)

.         //9 , 99 and 8, 98 are missing values
.         
. 
.         //Group telephone and mobiletelephone as a single variable
. replace telephone=1 if mobiletelephone==1
(32,390 real changes made)

. 
.         //Group refrigerator and freezer
. replace refrigerator=1 if freezer==1
(759 real changes made)

. 
. 
. /* Members of the household are considered deprived in assets if the household 
> does not own more than one of: radio, TV, telephone, bike, motorbike, 
> refrigerator, computer or animal_cart and does not own a car or truck.*/
. 
. egen n_small_assets2 = rowtotal(television radio telephone refrigerator bicycle motorbike compute
> r animal_cart), missing

. lab var n_small_assets2 "Household Number of Small Assets Owned" 

.   
.   
. gen hh_assets2 = (car==1 | n_small_assets2 > 1) 

. replace hh_assets2 = . if car==. & n_small_assets2==.
(0 real changes made)

. lab var hh_assets2 "Household Asset Ownership: HH has car or more than 1 small assets incl comput
> er & animal cart"
note: label truncated to 80 characters

. 
. 
.         
. ********************************************************************************
. *** Step 2.11 Rename and keep variables for MPI calculation 
. ********************************************************************************
.         
. 
.         //Retain data on sampling design: 
. desc hv022 hv021        

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
hv022           byte    %8.0g      HV022      sample strata for sampling errors
hv021           int     %8.0g                 primary sampling unit

. clonevar strata = hv022

. clonevar psu = hv021

. 
. 
.         //Retain year, month & date of interview:
. desc hv007 hv006 hv008

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------
hv007           int     %8.0g                 year of interview
hv006           byte    %8.0g                 month of interview
hv008           int     %8.0g                 date of interview (cmc)

. clonevar year_interview = hv007         

. clonevar month_interview = hv006 

. clonevar date_interview = hv008

.  
. 
. *** Rename key global MPI indicators for estimation ***
. recode hh_mortality_5y      (0=1)(1=0) , gen(d_cm)
(34169 differences between hh_mortality_5y and d_cm)

. recode hh_nutrition_uw_st       (0=1)(1=0) , gen(d_nutr)
(34029 differences between hh_nutrition_uw_st and d_nutr)

. recode hh_child_atten           (0=1)(1=0) , gen(d_satt)
(34319 differences between hh_child_atten and d_satt)

. recode hh_years_edu6            (0=1)(1=0) , gen(d_educ)
(34315 differences between hh_years_edu6 and d_educ)

. recode electricity                      (0=1)(1=0) , gen(d_elct)
(34319 differences between electricity and d_elct)

. recode water_mdg                        (0=1)(1=0) , gen(d_wtr)
(34319 differences between water_mdg and d_wtr)

. recode toilet_mdg                       (0=1)(1=0) , gen(d_sani)
(34319 differences between toilet_mdg and d_sani)

. recode housing_1                        (0=1)(1=0) , gen(d_hsg)
(34319 differences between housing_1 and d_hsg)

. recode cooking_mdg                      (0=1)(1=0) , gen(d_ckfl)
(34319 differences between cooking_mdg and d_ckfl)

. recode hh_assets2                       (0=1)(1=0) , gen(d_asst)
(34319 differences between hh_assets2 and d_asst)

. 
. 
. 
. *** Keep selected variables for global MPI estimation ***
. keep hh_id ind_id ccty cty survey year subsample strata psu weight area relationship sex age agec
> 7 agec4 marital hhsize region year_interview month_interview date_interview d_cm d_nutr d_satt d_
> educ d_elct d_wtr d_sani d_hsg d_ckfl d_asst hh_mortality_5y hh_nutrition_uw_st hh_child_atten hh
> _years_edu6 electricity water_mdg toilet_mdg housing_1 cooking_mdg hh_assets2 

. 
. order hh_id ind_id ccty cty survey year subsample strata psu weight area relationship sex age age
> c7 agec4 marital hhsize region year_interview month_interview date_interview d_cm d_nutr d_satt d
> _educ d_elct d_wtr d_sani d_hsg d_ckfl d_asst hh_mortality_5y hh_nutrition_uw_st hh_child_atten h
> h_years_edu6 electricity water_mdg toilet_mdg housing_1 cooking_mdg hh_assets2 

. 
. 
. 
. *** Sort, compress and save data for estimation ***
. sort ind_id

. compress
  variable hh_id was double now long
  variable ind_id was double now long
  variable subsample was double now byte
  variable hhsize was double now byte
  variable d_cm was double now byte
  variable d_nutr was double now byte
  variable d_satt was double now byte
  variable d_educ was double now byte
  variable d_wtr was double now byte
  variable d_sani was double now byte
  variable d_hsg was double now byte
  variable d_ckfl was double now byte
  variable d_asst was double now byte
  variable hh_mortality_5y was double now byte
  variable hh_nutrition_uw_st was double now byte
  variable hh_child_atten was double now byte
  variable hh_years_edu6 was double now byte
  variable water_mdg was double now byte
  variable toilet_mdg was double now byte
  variable housing_1 was double now byte
  variable cooking_mdg was double now byte
  variable hh_assets2 was double now byte
  (5,079,212 bytes saved)

. save "$path_out/Ghana_dhs22_pov.dta", replace 
file C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\Diss\CODI
> NG\Ghana\Ghana 2022\Outputs/Ghana_dhs22_pov.dta saved

. log close
      name:  <unnamed>
       log:  C:\Users\Arthur.Martin\OneDrive - Department of Health and Social Care\Documents\LSE\D
> iss\CODING\Ghana\Ghana 2022/Ghana_dhs22_dataprep.log
  log type:  text
 closed on:   2 Feb 2026, 16:54:12
---------------------------------------------------------------------------------------------------
